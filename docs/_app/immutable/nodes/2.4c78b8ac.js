import{s as le,f as S,e as re,B as bn,g as A,d as v,j as h,z as U,u as ge,C as ft,i as z,D as yt,E as wn,l as te,a as $,h as Q,m as ne,c as ee,F as mt,n as he,v as Be,G as oe,H as en,I as tn,J as Pe,w as Ze,x as Qe,y as qe,K as pt,L as Ue,A as kn,M as Cn,o as nn,N as Mn,p as rn,O as Ne,r as pe,P as De,k as vt,Q as Dn,R as Tt}from"../chunks/scheduler.c5ca2d82.js";import{S as me,i as de,a as Y,t as V,b as se,d as ue,m as ce,e as fe,g as ve,c as Te,f as Je,h as on,j as bt,k as Un}from"../chunks/index.4b2d0c5f.js";import{e as Se,S as wt,a as Sn,r as An}from"../chunks/transform.28c31f1e.js";import{r as Ln}from"../chunks/index.0563acab.js";function Ge(e,t){const r={},n={},l={$$scope:1};let o=e.length;for(;o--;){const a=e[o],i=t[o];if(i){for(const s in a)s in i||(n[s]=1);for(const s in i)l[s]||(r[s]=i[s],l[s]=1);e[o]=i}else for(const s in a)l[s]=1}for(const a in n)a in r||(r[a]=void 0);return r}function ln(e){return typeof e=="object"&&e!==null?e:{}}function kt(e,t,r){const n=e.slice();return n[5]=t[r],n}function Ct(e){let t,r;return{c(){t=S("link"),this.h()},l(n){t=A(n,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){h(t,"rel","preload"),h(t,"href",r=e[5]),h(t,"as","font"),h(t,"type","font/woff2"),h(t,"crossorigin","")},m(n,l){z(n,t,l)},p(n,l){l&16&&r!==(r=n[5])&&h(t,"href",r)},d(n){n&&v(t)}}}function Fn(e){let t,r,n,l,o,a,i,s,u,p,c,f,m,g,M,F,N,P,w,D,L,b,_,C,Z,X;document.title=t=e[0];let R=Se(e[4]),I=[];for(let E=0;E<R.length;E+=1)I[E]=Ct(kt(e,R,E));return{c(){r=S("meta"),n=S("meta"),l=S("meta"),o=S("meta"),a=S("meta"),i=S("meta"),s=S("meta"),u=S("meta"),p=S("meta"),c=S("meta"),m=S("meta"),g=S("meta"),M=S("meta"),F=S("meta"),N=S("meta"),P=S("meta"),w=S("meta"),D=S("meta"),L=S("meta"),_=S("meta"),C=S("link");for(let E=0;E<I.length;E+=1)I[E].c();X=re(),this.h()},l(E){const y=bn("svelte-1htu80s",document.head);r=A(y,"META",{name:!0,content:!0}),n=A(y,"META",{name:!0,content:!0}),l=A(y,"META",{name:!0,content:!0}),o=A(y,"META",{property:!0,content:!0}),a=A(y,"META",{property:!0,content:!0}),i=A(y,"META",{property:!0,content:!0}),s=A(y,"META",{property:!0,content:!0}),u=A(y,"META",{property:!0,content:!0}),p=A(y,"META",{property:!0,content:!0}),c=A(y,"META",{property:!0,content:!0}),m=A(y,"META",{property:!0,content:!0}),g=A(y,"META",{property:!0,content:!0}),M=A(y,"META",{property:!0,content:!0}),F=A(y,"META",{name:!0,content:!0}),N=A(y,"META",{name:!0,content:!0}),P=A(y,"META",{name:!0,content:!0}),w=A(y,"META",{name:!0,content:!0}),D=A(y,"META",{name:!0,content:!0}),L=A(y,"META",{name:!0,content:!0}),_=A(y,"META",{name:!0,content:!0}),C=A(y,"LINK",{rel:!0,href:!0});for(let O=0;O<I.length;O+=1)I[O].l(y);X=re(),y.forEach(v),this.h()},h(){h(r,"name","description"),h(r,"content",e[1]),h(n,"name","author"),h(n,"content","The Pudding"),h(l,"name","news_keywords"),h(l,"content",e[3]),h(o,"property","og:title"),h(o,"content",e[0]),h(a,"property","og:site_name"),h(a,"content","The Pudding"),h(i,"property","og:url"),h(i,"content",e[2]),h(s,"property","og:description"),h(s,"content",e[1]),h(u,"property","og:type"),h(u,"content","article"),h(p,"property","og:locale"),h(p,"content","en_US"),h(c,"property","og:image"),h(c,"content",f=e[2]+"/assets/social-facebook.jpg"),h(m,"property","og:image:type"),h(m,"content","image/jpeg"),h(g,"property","og:image:width"),h(g,"content","1200"),h(M,"property","og:image:height"),h(M,"content","600"),h(F,"name","twitter:card"),h(F,"content","summary_large_image"),h(N,"name","twitter:site"),h(N,"content","https://pudding.cool"),h(P,"name","twitter:creator"),h(P,"content","@puddingviz"),h(w,"name","twitter:title"),h(w,"content",e[0]),h(D,"name","twitter:description"),h(D,"content",e[1]),h(L,"name","twitter:image:src"),h(L,"content",b=e[2]+"/assets/social-twitter.jpg"),h(_,"name","robots"),h(_,"content","max-image-preview:large"),h(C,"rel","canonical"),h(C,"href",Z=e[2]+"/")},m(E,y){U(document.head,r),U(document.head,n),U(document.head,l),U(document.head,o),U(document.head,a),U(document.head,i),U(document.head,s),U(document.head,u),U(document.head,p),U(document.head,c),U(document.head,m),U(document.head,g),U(document.head,M),U(document.head,F),U(document.head,N),U(document.head,P),U(document.head,w),U(document.head,D),U(document.head,L),U(document.head,_),U(document.head,C);for(let O=0;O<I.length;O+=1)I[O]&&I[O].m(document.head,null);U(document.head,X)},p(E,[y]){if(y&1&&t!==(t=E[0])&&(document.title=t),y&2&&h(r,"content",E[1]),y&8&&h(l,"content",E[3]),y&1&&h(o,"content",E[0]),y&4&&h(i,"content",E[2]),y&2&&h(s,"content",E[1]),y&4&&f!==(f=E[2]+"/assets/social-facebook.jpg")&&h(c,"content",f),y&1&&h(w,"content",E[0]),y&2&&h(D,"content",E[1]),y&4&&b!==(b=E[2]+"/assets/social-twitter.jpg")&&h(L,"content",b),y&4&&Z!==(Z=E[2]+"/")&&h(C,"href",Z),y&16){R=Se(E[4]);let O;for(O=0;O<R.length;O+=1){const ie=kt(E,R,O);I[O]?I[O].p(ie,y):(I[O]=Ct(ie),I[O].c(),I[O].m(X.parentNode,X))}for(;O<I.length;O+=1)I[O].d(1);I.length=R.length}},i:ge,o:ge,d(E){v(r),v(n),v(l),v(o),v(a),v(i),v(s),v(u),v(p),v(c),v(m),v(g),v(M),v(F),v(N),v(P),v(w),v(D),v(L),v(_),v(C),ft(I,E),v(X)}}}function Nn(e,t,r){let{title:n="Title TK"}=t,{description:l="Description TK"}=t,{url:o="https://pudding.cool"}=t,{keywords:a=""}=t,{preloadFont:i=[]}=t;return e.$$set=s=>{"title"in s&&r(0,n=s.title),"description"in s&&r(1,l=s.description),"url"in s&&r(2,o=s.url),"keywords"in s&&r(3,a=s.keywords),"preloadFont"in s&&r(4,i=s.preloadFont)},[n,l,o,a,i]}class En extends me{constructor(t){super(),de(this,t,Nn,Fn,le,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}function Wn(e,t){let r,n=-1,l=-1;if(t===void 0)for(const o of e)++l,o!=null&&(r>o||r===void 0&&o>=o)&&(r=o,n=l);else for(let o of e)(o=t(o,++l,e))!=null&&(r>o||r===void 0&&o>=o)&&(r=o,n=l);return n}function Yn(e){return typeof e=="string"?new wt([document.querySelectorAll(e)],[document.documentElement]):new wt([Sn(e)],An)}var Mt={},et={},tt=34,We=10,nt=13;function an(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function In(e,t){var r=an(e);return function(n,l){return t(r(n),l,e)}}function Dt(e){var t=Object.create(null),r=[];return e.forEach(function(n){for(var l in n)l in t||r.push(t[l]=l)}),r}function G(e,t){var r=e+"",n=r.length;return n<t?new Array(t-n+1).join(0)+r:r}function Hn(e){return e<0?"-"+G(-e,6):e>9999?"+"+G(e,6):G(e,4)}function jn(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),n=e.getUTCSeconds(),l=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":Hn(e.getUTCFullYear())+"-"+G(e.getUTCMonth()+1,2)+"-"+G(e.getUTCDate(),2)+(l?"T"+G(t,2)+":"+G(r,2)+":"+G(n,2)+"."+G(l,3)+"Z":n?"T"+G(t,2)+":"+G(r,2)+":"+G(n,2)+"Z":r||t?"T"+G(t,2)+":"+G(r,2)+"Z":"")}function On(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function n(c,f){var m,g,M=l(c,function(F,N){if(m)return m(F,N-1);g=F,m=f?In(F,f):an(F)});return M.columns=g||[],M}function l(c,f){var m=[],g=c.length,M=0,F=0,N,P=g<=0,w=!1;c.charCodeAt(g-1)===We&&--g,c.charCodeAt(g-1)===nt&&--g;function D(){if(P)return et;if(w)return w=!1,Mt;var b,_=M,C;if(c.charCodeAt(_)===tt){for(;M++<g&&c.charCodeAt(M)!==tt||c.charCodeAt(++M)===tt;);return(b=M)>=g?P=!0:(C=c.charCodeAt(M++))===We?w=!0:C===nt&&(w=!0,c.charCodeAt(M)===We&&++M),c.slice(_+1,b-1).replace(/""/g,'"')}for(;M<g;){if((C=c.charCodeAt(b=M++))===We)w=!0;else if(C===nt)w=!0,c.charCodeAt(M)===We&&++M;else if(C!==r)continue;return c.slice(_,b)}return P=!0,c.slice(_,g)}for(;(N=D())!==et;){for(var L=[];N!==Mt&&N!==et;)L.push(N),N=D();f&&(L=f(L,F++))==null||m.push(L)}return m}function o(c,f){return c.map(function(m){return f.map(function(g){return p(m[g])}).join(e)})}function a(c,f){return f==null&&(f=Dt(c)),[f.map(p).join(e)].concat(o(c,f)).join(`
`)}function i(c,f){return f==null&&(f=Dt(c)),o(c,f).join(`
`)}function s(c){return c.map(u).join(`
`)}function u(c){return c.map(p).join(e)}function p(c){return c==null?"":c instanceof Date?jn(c):t.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:n,parseRows:l,format:a,formatBody:i,formatRows:s,formatRow:u,formatValue:p}}var zn=On(","),Pn=zn.parse;function Rn(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Vn(e,t){return fetch(e,t).then(Rn)}function Bn(e){return function(t,r,n){return arguments.length===2&&typeof r=="function"&&(n=r,r=void 0),Vn(t,r).then(function(l){return e(l,n)})}}var Zn=Bn(Pn);const rt=new Date,ot=new Date;function ae(e,t,r,n){function l(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return l.floor=o=>(e(o=new Date(+o)),o),l.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),l.round=o=>{const a=l(o),i=l.ceil(o);return o-a<i-o?a:i},l.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),l.range=(o,a,i)=>{const s=[];if(o=l.ceil(o),i=i==null?1:Math.floor(i),!(o<a)||!(i>0))return s;let u;do s.push(u=new Date(+o)),t(o,i),e(o);while(u<o&&o<a);return s},l.filter=o=>ae(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,i)=>{if(a>=a)if(i<0)for(;++i<=0;)for(;t(a,-1),!o(a););else for(;--i>=0;)for(;t(a,1),!o(a););}),r&&(l.count=(o,a)=>(rt.setTime(+o),ot.setTime(+a),e(rt),e(ot),Math.floor(r(rt,ot))),l.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?l.filter(n?a=>n(a)%o===0:a=>l.count(0,a)%o===0):l)),l}const Qn=1e3,dt=Qn*60,qn=dt*60,je=qn*24,sn=je*7,ht=ae(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*dt)/je,e=>e.getDate()-1);ht.range;const gt=ae(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/je,e=>e.getUTCDate()-1);gt.range;const Jn=ae(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/je,e=>Math.floor(e/je));Jn.range;function ke(e){return ae(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*dt)/sn)}const un=ke(0),Re=ke(1),Gn=ke(2),Xn=ke(3),Ae=ke(4),Kn=ke(5),xn=ke(6);un.range;Re.range;Gn.range;Xn.range;Ae.range;Kn.range;xn.range;function Ce(e){return ae(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/sn)}const cn=Ce(0),Ve=Ce(1),$n=Ce(2),er=Ce(3),Le=Ce(4),tr=Ce(5),nr=Ce(6);cn.range;Ve.range;$n.range;er.range;Le.range;tr.range;nr.range;const be=ae(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());be.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ae(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});be.range;const we=ae(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());we.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ae(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});we.range;function lt(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function at(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ye(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function rr(e){var t=e.dateTime,r=e.date,n=e.time,l=e.periods,o=e.days,a=e.shortDays,i=e.months,s=e.shortMonths,u=Ie(l),p=He(l),c=Ie(o),f=He(o),m=Ie(a),g=He(a),M=Ie(i),F=He(i),N=Ie(s),P=He(s),w={a:Xe,A:Oe,b:Ee,B:Ke,c:null,d:Nt,e:Nt,f:Dr,g:Ir,G:jr,H:kr,I:Cr,j:Mr,L:fn,m:Ur,M:Sr,p:xe,q:$e,Q:Yt,s:It,S:Ar,u:Lr,U:Fr,V:Nr,w:Er,W:Wr,x:null,X:null,y:Yr,Y:Hr,Z:Or,"%":Wt},D={a:T,A:_e,b:yn,B:pn,c:null,d:Et,e:Et,f:Vr,g:$r,G:to,H:zr,I:Pr,j:Rr,L:dn,m:Br,M:Zr,p:vn,q:Tn,Q:Yt,s:It,S:Qr,u:qr,U:Jr,V:Gr,w:Xr,W:Kr,x:null,X:null,y:xr,Y:eo,Z:no,"%":Wt},L={a:X,A:R,b:I,B:E,c:y,d:Lt,e:Lt,f:vr,g:At,G:St,H:Ft,I:Ft,j:gr,L:pr,m:hr,M:_r,p:Z,q:dr,Q:br,s:wr,S:yr,u:sr,U:ur,V:cr,w:ir,W:fr,x:O,X:ie,y:At,Y:St,Z:mr,"%":Tr};w.x=b(r,w),w.X=b(n,w),w.c=b(t,w),D.x=b(r,D),D.X=b(n,D),D.c=b(t,D);function b(k,W){return function(H){var d=[],J=-1,B=0,K=k.length,x,ye,_t;for(H instanceof Date||(H=new Date(+H));++J<K;)k.charCodeAt(J)===37&&(d.push(k.slice(B,J)),(ye=Ut[x=k.charAt(++J)])!=null?x=k.charAt(++J):ye=x==="e"?" ":"0",(_t=W[x])&&(x=_t(H,ye)),d.push(x),B=J+1);return d.push(k.slice(B,J)),d.join("")}}function _(k,W){return function(H){var d=Ye(1900,void 0,1),J=C(d,k,H+="",0),B,K;if(J!=H.length)return null;if("Q"in d)return new Date(d.Q);if("s"in d)return new Date(d.s*1e3+("L"in d?d.L:0));if(W&&!("Z"in d)&&(d.Z=0),"p"in d&&(d.H=d.H%12+d.p*12),d.m===void 0&&(d.m="q"in d?d.q:0),"V"in d){if(d.V<1||d.V>53)return null;"w"in d||(d.w=1),"Z"in d?(B=at(Ye(d.y,0,1)),K=B.getUTCDay(),B=K>4||K===0?Ve.ceil(B):Ve(B),B=gt.offset(B,(d.V-1)*7),d.y=B.getUTCFullYear(),d.m=B.getUTCMonth(),d.d=B.getUTCDate()+(d.w+6)%7):(B=lt(Ye(d.y,0,1)),K=B.getDay(),B=K>4||K===0?Re.ceil(B):Re(B),B=ht.offset(B,(d.V-1)*7),d.y=B.getFullYear(),d.m=B.getMonth(),d.d=B.getDate()+(d.w+6)%7)}else("W"in d||"U"in d)&&("w"in d||(d.w="u"in d?d.u%7:"W"in d?1:0),K="Z"in d?at(Ye(d.y,0,1)).getUTCDay():lt(Ye(d.y,0,1)).getDay(),d.m=0,d.d="W"in d?(d.w+6)%7+d.W*7-(K+5)%7:d.w+d.U*7-(K+6)%7);return"Z"in d?(d.H+=d.Z/100|0,d.M+=d.Z%100,at(d)):lt(d)}}function C(k,W,H,d){for(var J=0,B=W.length,K=H.length,x,ye;J<B;){if(d>=K)return-1;if(x=W.charCodeAt(J++),x===37){if(x=W.charAt(J++),ye=L[x in Ut?W.charAt(J++):x],!ye||(d=ye(k,H,d))<0)return-1}else if(x!=H.charCodeAt(d++))return-1}return d}function Z(k,W,H){var d=u.exec(W.slice(H));return d?(k.p=p.get(d[0].toLowerCase()),H+d[0].length):-1}function X(k,W,H){var d=m.exec(W.slice(H));return d?(k.w=g.get(d[0].toLowerCase()),H+d[0].length):-1}function R(k,W,H){var d=c.exec(W.slice(H));return d?(k.w=f.get(d[0].toLowerCase()),H+d[0].length):-1}function I(k,W,H){var d=N.exec(W.slice(H));return d?(k.m=P.get(d[0].toLowerCase()),H+d[0].length):-1}function E(k,W,H){var d=M.exec(W.slice(H));return d?(k.m=F.get(d[0].toLowerCase()),H+d[0].length):-1}function y(k,W,H){return C(k,t,W,H)}function O(k,W,H){return C(k,r,W,H)}function ie(k,W,H){return C(k,n,W,H)}function Xe(k){return a[k.getDay()]}function Oe(k){return o[k.getDay()]}function Ee(k){return s[k.getMonth()]}function Ke(k){return i[k.getMonth()]}function xe(k){return l[+(k.getHours()>=12)]}function $e(k){return 1+~~(k.getMonth()/3)}function T(k){return a[k.getUTCDay()]}function _e(k){return o[k.getUTCDay()]}function yn(k){return s[k.getUTCMonth()]}function pn(k){return i[k.getUTCMonth()]}function vn(k){return l[+(k.getUTCHours()>=12)]}function Tn(k){return 1+~~(k.getUTCMonth()/3)}return{format:function(k){var W=b(k+="",w);return W.toString=function(){return k},W},parse:function(k){var W=_(k+="",!1);return W.toString=function(){return k},W},utcFormat:function(k){var W=b(k+="",D);return W.toString=function(){return k},W},utcParse:function(k){var W=_(k+="",!0);return W.toString=function(){return k},W}}}var Ut={"-":"",_:" ",0:"0"},q=/^\s*\d+/,or=/^%/,lr=/[\\^$*+?|[\]().{}]/g;function j(e,t,r){var n=e<0?"-":"",l=(n?-e:e)+"",o=l.length;return n+(o<r?new Array(r-o+1).join(t)+l:l)}function ar(e){return e.replace(lr,"\\$&")}function Ie(e){return new RegExp("^(?:"+e.map(ar).join("|")+")","i")}function He(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function ir(e,t,r){var n=q.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function sr(e,t,r){var n=q.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function ur(e,t,r){var n=q.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function cr(e,t,r){var n=q.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function fr(e,t,r){var n=q.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function St(e,t,r){var n=q.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function At(e,t,r){var n=q.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function mr(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function dr(e,t,r){var n=q.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function hr(e,t,r){var n=q.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Lt(e,t,r){var n=q.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function gr(e,t,r){var n=q.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Ft(e,t,r){var n=q.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function _r(e,t,r){var n=q.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function yr(e,t,r){var n=q.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function pr(e,t,r){var n=q.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function vr(e,t,r){var n=q.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Tr(e,t,r){var n=or.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function br(e,t,r){var n=q.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function wr(e,t,r){var n=q.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Nt(e,t){return j(e.getDate(),t,2)}function kr(e,t){return j(e.getHours(),t,2)}function Cr(e,t){return j(e.getHours()%12||12,t,2)}function Mr(e,t){return j(1+ht.count(be(e),e),t,3)}function fn(e,t){return j(e.getMilliseconds(),t,3)}function Dr(e,t){return fn(e,t)+"000"}function Ur(e,t){return j(e.getMonth()+1,t,2)}function Sr(e,t){return j(e.getMinutes(),t,2)}function Ar(e,t){return j(e.getSeconds(),t,2)}function Lr(e){var t=e.getDay();return t===0?7:t}function Fr(e,t){return j(un.count(be(e)-1,e),t,2)}function mn(e){var t=e.getDay();return t>=4||t===0?Ae(e):Ae.ceil(e)}function Nr(e,t){return e=mn(e),j(Ae.count(be(e),e)+(be(e).getDay()===4),t,2)}function Er(e){return e.getDay()}function Wr(e,t){return j(Re.count(be(e)-1,e),t,2)}function Yr(e,t){return j(e.getFullYear()%100,t,2)}function Ir(e,t){return e=mn(e),j(e.getFullYear()%100,t,2)}function Hr(e,t){return j(e.getFullYear()%1e4,t,4)}function jr(e,t){var r=e.getDay();return e=r>=4||r===0?Ae(e):Ae.ceil(e),j(e.getFullYear()%1e4,t,4)}function Or(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+j(t/60|0,"0",2)+j(t%60,"0",2)}function Et(e,t){return j(e.getUTCDate(),t,2)}function zr(e,t){return j(e.getUTCHours(),t,2)}function Pr(e,t){return j(e.getUTCHours()%12||12,t,2)}function Rr(e,t){return j(1+gt.count(we(e),e),t,3)}function dn(e,t){return j(e.getUTCMilliseconds(),t,3)}function Vr(e,t){return dn(e,t)+"000"}function Br(e,t){return j(e.getUTCMonth()+1,t,2)}function Zr(e,t){return j(e.getUTCMinutes(),t,2)}function Qr(e,t){return j(e.getUTCSeconds(),t,2)}function qr(e){var t=e.getUTCDay();return t===0?7:t}function Jr(e,t){return j(cn.count(we(e)-1,e),t,2)}function hn(e){var t=e.getUTCDay();return t>=4||t===0?Le(e):Le.ceil(e)}function Gr(e,t){return e=hn(e),j(Le.count(we(e),e)+(we(e).getUTCDay()===4),t,2)}function Xr(e){return e.getUTCDay()}function Kr(e,t){return j(Ve.count(we(e)-1,e),t,2)}function xr(e,t){return j(e.getUTCFullYear()%100,t,2)}function $r(e,t){return e=hn(e),j(e.getUTCFullYear()%100,t,2)}function eo(e,t){return j(e.getUTCFullYear()%1e4,t,4)}function to(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Le(e):Le.ceil(e),j(e.getUTCFullYear()%1e4,t,4)}function no(){return"+0000"}function Wt(){return"%"}function Yt(e){return+e}function It(e){return Math.floor(+e/1e3)}var Me,ut;ro({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ro(e){return Me=rr(e),ut=Me.format,Me.parse,Me.utcFormat,Me.utcParse,Me}function oo(e){const t=e-1;return t*t*t+1}function gn(e,{delay:t=0,duration:r=400,easing:n=wn}={}){const l=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:n,css:o=>`opacity: ${o*l}`}}function Fe(e,{delay:t=0,duration:r=400,easing:n=oo,x:l=0,y:o=0,opacity:a=0}={}){const i=getComputedStyle(e),s=+i.opacity,u=i.transform==="none"?"":i.transform,p=s*(1-a),[c,f]=yt(l),[m,g]=yt(o);return{delay:t,duration:r,easing:n,css:(M,F)=>`
			transform: ${u} translate(${(1-M)*c}${f}, ${(1-M)*m}${g});
			opacity: ${s-p*F}`}}function Ht(e){let t,r=e[5][e[2][0]]+"",n,l,o,a=e[5][e[2][1]]+"",i;return{c(){t=S("span"),n=te(r),l=$(),o=S("span"),i=te(a),this.h()},l(s){t=A(s,"SPAN",{class:!0});var u=Q(t);n=ne(u,r),u.forEach(v),l=ee(s),o=A(s,"SPAN",{style:!0,class:!0});var p=Q(o);i=ne(p,a),p.forEach(v),this.h()},h(){h(t,"class","svelte-1ke5mis"),h(o,"style",""),h(o,"class","svelte-1ke5mis")},m(s,u){z(s,t,u),U(t,n),z(s,l,u),z(s,o,u),U(o,i)},p(s,u){u&4&&r!==(r=s[5][s[2][0]]+"")&&he(n,r),u&4&&a!==(a=s[5][s[2][1]]+"")&&he(i,a)},d(s){s&&(v(t),v(l),v(o))}}}function lo(e){let t,r,n,l,o,a,i,s,u=e[1]==="inner"&&Ht(e);return{c(){t=S("div"),r=S("span"),n=te(e[0]),l=$(),o=S("button"),u&&u.c(),this.h()},l(p){t=A(p,"DIV",{class:!0});var c=Q(t);r=A(c,"SPAN",{class:!0,id:!0});var f=Q(r);n=ne(f,e[0]),f.forEach(v),l=ee(c),o=A(c,"BUTTON",{role:!0,"aria-checked":!0,"aria-labelledby":!0,class:!0});var m=Q(o);u&&u.l(m),m.forEach(v),c.forEach(v),this.h()},h(){h(r,"class","label svelte-1ke5mis"),h(r,"id",e[4]),h(o,"role","switch"),h(o,"aria-checked",e[3]),h(o,"aria-labelledby",e[4]),h(o,"class","svelte-1ke5mis"),h(t,"class",a="toggle toggle--"+e[1]+" svelte-1ke5mis")},m(p,c){z(p,t,c),U(t,r),U(r,n),U(t,l),U(t,o),u&&u.m(o,null),i||(s=mt(o,"click",e[6]),i=!0)},p(p,[c]){c&1&&he(n,p[0]),p[1]==="inner"?u?u.p(p,c):(u=Ht(p),u.c(),u.m(o,null)):u&&(u.d(1),u=null),c&8&&h(o,"aria-checked",p[3]),c&2&&a!==(a="toggle toggle--"+p[1]+" svelte-1ke5mis")&&h(t,"class",a)},i:ge,o:ge,d(p){p&&v(t),u&&u.d(),i=!1,s()}}}function ao(e,t,r){let{label:n}=t,{style:l="inner"}=t,{options:o=["daily","all-time"]}=t,{value:a=o[0]}=t,i=a===o[0];const s=`toggle-${Math.floor(Math.random()*1e6)}`,u={daily:"For any calendar day","all-time":"All-time"},p=c=>{const m=c.target.getAttribute("aria-checked");r(3,i=m!=="true"),r(7,a=i?o[0]:o[1])};return e.$$set=c=>{"label"in c&&r(0,n=c.label),"style"in c&&r(1,l=c.style),"options"in c&&r(2,o=c.options),"value"in c&&r(7,a=c.value)},[n,l,o,i,s,u,p,a]}class io extends me{constructor(t){super(),de(this,t,ao,lo,le,{label:0,style:1,options:2,value:7})}}var ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function so(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uo="Expected a function",jt=0/0,co="[object Symbol]",fo=/^\s+|\s+$/g,mo=/^[-+]0x[0-9a-f]+$/i,ho=/^0b[01]+$/i,go=/^0o[0-7]+$/i,_o=parseInt,yo=typeof ze=="object"&&ze&&ze.Object===Object&&ze,po=typeof self=="object"&&self&&self.Object===Object&&self,vo=yo||po||Function("return this")(),To=Object.prototype,bo=To.toString,wo=Math.max,ko=Math.min,it=function(){return vo.Date.now()};function Co(e,t,r){var n,l,o,a,i,s,u=0,p=!1,c=!1,f=!0;if(typeof e!="function")throw new TypeError(uo);t=Ot(t)||0,ct(r)&&(p=!!r.leading,c="maxWait"in r,o=c?wo(Ot(r.maxWait)||0,t):o,f="trailing"in r?!!r.trailing:f);function m(b){var _=n,C=l;return n=l=void 0,u=b,a=e.apply(C,_),a}function g(b){return u=b,i=setTimeout(N,t),p?m(b):a}function M(b){var _=b-s,C=b-u,Z=t-_;return c?ko(Z,o-C):Z}function F(b){var _=b-s,C=b-u;return s===void 0||_>=t||_<0||c&&C>=o}function N(){var b=it();if(F(b))return P(b);i=setTimeout(N,M(b))}function P(b){return i=void 0,f&&n?m(b):(n=l=void 0,a)}function w(){i!==void 0&&clearTimeout(i),u=0,n=s=l=i=void 0}function D(){return i===void 0?a:P(it())}function L(){var b=it(),_=F(b);if(n=arguments,l=this,s=b,_){if(i===void 0)return g(s);if(c)return i=setTimeout(N,t),m(s)}return i===void 0&&(i=setTimeout(N,t)),a}return L.cancel=w,L.flush=D,L}function ct(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Mo(e){return!!e&&typeof e=="object"}function Do(e){return typeof e=="symbol"||Mo(e)&&bo.call(e)==co}function Ot(e){if(typeof e=="number")return e;if(Do(e))return jt;if(ct(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ct(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(fo,"");var r=ho.test(e);return r||go.test(e)?_o(e.slice(2),r?2:8):mo.test(e)?jt:+e}var Uo=Co;const So=so(Uo);const zt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Pt(e,t,r){const n=e.slice();return n[10]=t[r][0],n[11]=t[r][1],n}function st(e){let t,r=[e[11]],n={};for(let l=0;l<r.length;l+=1)n=oe(n,r[l]);return{c(){t=en(e[10]),this.h()},l(l){t=tn(l,e[10],{}),Q(t).forEach(v),this.h()},h(){Pe(t,n)},m(l,o){z(l,t,o)},p(l,o){Pe(t,n=Ge(r,[o&32&&l[11]]))},d(l){l&&v(t)}}}function Rt(e){let t=e[10],r,n=e[10]&&st(e);return{c(){n&&n.c(),r=re()},l(l){n&&n.l(l),r=re()},m(l,o){n&&n.m(l,o),z(l,r,o)},p(l,o){l[10]?t?le(t,l[10])?(n.d(1),n=st(l),t=l[10],n.c(),n.m(r.parentNode,r)):n.p(l,o):(n=st(l),t=l[10],n.c(),n.m(r.parentNode,r)):t&&(n.d(1),n=null,t=l[10])},d(l){l&&v(r),n&&n.d(l)}}}function Ao(e){let t,r,n,l,o,a=Se(e[5]),i=[];for(let f=0;f<a.length;f+=1)i[f]=Rt(Pt(e,a,f));const s=e[9].default,u=Be(s,e,e[8],null);let p=[zt,e[6],{width:e[2]},{height:e[2]},{stroke:e[1]},{"stroke-width":n=e[4]?Number(e[3])*24/Number(e[2]):e[3]},{class:l=`lucide-icon lucide lucide-${e[0]} ${e[7].class??""}`}],c={};for(let f=0;f<p.length;f+=1)c=oe(c,p[f]);return{c(){t=en("svg");for(let f=0;f<i.length;f+=1)i[f].c();r=re(),u&&u.c(),this.h()},l(f){t=tn(f,"svg",{width:!0,height:!0,stroke:!0,"stroke-width":!0,class:!0});var m=Q(t);for(let g=0;g<i.length;g+=1)i[g].l(m);r=re(),u&&u.l(m),m.forEach(v),this.h()},h(){Pe(t,c)},m(f,m){z(f,t,m);for(let g=0;g<i.length;g+=1)i[g]&&i[g].m(t,null);U(t,r),u&&u.m(t,null),o=!0},p(f,[m]){if(m&32){a=Se(f[5]);let g;for(g=0;g<a.length;g+=1){const M=Pt(f,a,g);i[g]?i[g].p(M,m):(i[g]=Rt(M),i[g].c(),i[g].m(t,r))}for(;g<i.length;g+=1)i[g].d(1);i.length=a.length}u&&u.p&&(!o||m&256)&&Ze(u,s,f,f[8],o?qe(s,f[8],m,null):Qe(f[8]),null),Pe(t,c=Ge(p,[zt,m&64&&f[6],(!o||m&4)&&{width:f[2]},(!o||m&4)&&{height:f[2]},(!o||m&2)&&{stroke:f[1]},(!o||m&28&&n!==(n=f[4]?Number(f[3])*24/Number(f[2]):f[3]))&&{"stroke-width":n},(!o||m&129&&l!==(l=`lucide-icon lucide lucide-${f[0]} ${f[7].class??""}`))&&{class:l}]))},i(f){o||(Y(u,f),o=!0)},o(f){V(u,f),o=!1},d(f){f&&v(t),ft(i,f),u&&u.d(f)}}}function Lo(e,t,r){const n=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let l=pt(t,n),{$$slots:o={},$$scope:a}=t,{name:i}=t,{color:s="currentColor"}=t,{size:u=24}=t,{strokeWidth:p=2}=t,{absoluteStrokeWidth:c=!1}=t,{iconNode:f}=t;return e.$$set=m=>{r(7,t=oe(oe({},t),Ue(m))),r(6,l=pt(t,n)),"name"in m&&r(0,i=m.name),"color"in m&&r(1,s=m.color),"size"in m&&r(2,u=m.size),"strokeWidth"in m&&r(3,p=m.strokeWidth),"absoluteStrokeWidth"in m&&r(4,c=m.absoluteStrokeWidth),"iconNode"in m&&r(5,f=m.iconNode),"$$scope"in m&&r(8,a=m.$$scope)},t=Ue(t),[i,s,u,p,c,f,l,t,a,o]}class Fo extends me{constructor(t){super(),de(this,t,Lo,Ao,le,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}const _n=Fo;function No(e){let t;const r=e[2].default,n=Be(r,e,e[3],null);return{c(){n&&n.c()},l(l){n&&n.l(l)},m(l,o){n&&n.m(l,o),t=!0},p(l,o){n&&n.p&&(!t||o&8)&&Ze(n,r,l,l[3],t?qe(r,l[3],o,null):Qe(l[3]),null)},i(l){t||(Y(n,l),t=!0)},o(l){V(n,l),t=!1},d(l){n&&n.d(l)}}}function Eo(e){let t,r;const n=[{name:"globe-2"},e[1],{iconNode:e[0]}];let l={$$slots:{default:[No]},$$scope:{ctx:e}};for(let o=0;o<n.length;o+=1)l=oe(l,n[o]);return t=new _n({props:l}),{c(){se(t.$$.fragment)},l(o){ue(t.$$.fragment,o)},m(o,a){ce(t,o,a),r=!0},p(o,[a]){const i=a&3?Ge(n,[n[0],a&2&&ln(o[1]),a&1&&{iconNode:o[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:o}),t.$set(i)},i(o){r||(Y(t.$$.fragment,o),r=!0)},o(o){V(t.$$.fragment,o),r=!1},d(o){fe(t,o)}}}function Wo(e,t,r){let{$$slots:n={},$$scope:l}=t;const o=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3v0a2 2 0 0 1 2 2v0c0 1.1.9 2 2 2v0a2 2 0 0 0 2-2v0c0-1.1.9-2 2-2h3.17"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2v0a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05"}],["circle",{cx:"12",cy:"12",r:"10"}]];return e.$$set=a=>{r(1,t=oe(oe({},t),Ue(a))),"$$scope"in a&&r(3,l=a.$$scope)},t=Ue(t),[o,t,n,l]}class Yo extends me{constructor(t){super(),de(this,t,Wo,Eo,le,{})}}const Io=Yo;function Ho(e){let t;const r=e[2].default,n=Be(r,e,e[3],null);return{c(){n&&n.c()},l(l){n&&n.l(l)},m(l,o){n&&n.m(l,o),t=!0},p(l,o){n&&n.p&&(!t||o&8)&&Ze(n,r,l,l[3],t?qe(r,l[3],o,null):Qe(l[3]),null)},i(l){t||(Y(n,l),t=!0)},o(l){V(n,l),t=!1},d(l){n&&n.d(l)}}}function jo(e){let t,r;const n=[{name:"list"},e[1],{iconNode:e[0]}];let l={$$slots:{default:[Ho]},$$scope:{ctx:e}};for(let o=0;o<n.length;o+=1)l=oe(l,n[o]);return t=new _n({props:l}),{c(){se(t.$$.fragment)},l(o){ue(t.$$.fragment,o)},m(o,a){ce(t,o,a),r=!0},p(o,[a]){const i=a&3?Ge(n,[n[0],a&2&&ln(o[1]),a&1&&{iconNode:o[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:o}),t.$set(i)},i(o){r||(Y(t.$$.fragment,o),r=!0)},o(o){V(t.$$.fragment,o),r=!1},d(o){fe(t,o)}}}function Oo(e,t,r){let{$$slots:n={},$$scope:l}=t;const o=[["line",{x1:"8",x2:"21",y1:"6",y2:"6"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18"}]];return e.$$set=a=>{r(1,t=oe(oe({},t),Ue(a))),"$$scope"in a&&r(3,l=a.$$scope)},t=Ue(t),[o,t,n,l]}class zo extends me{constructor(t){super(),de(this,t,Oo,jo,le,{})}}const Po=zo;function Vt(e,t,r){const n=e.slice();return n[3]=t[r],n}function Bt(e){let t,r=e[3].name.replace(" Area","")+"",n,l,o=e[3].days_since_daily+"",a,i,s=e[3].days_since_val+"",u,p,c=e[3].days_since_daily_date+"",f;return{c(){t=S("p"),n=te(r),l=te(" - "),a=te(o),i=te(" days - "),u=te(s),p=te("°F on "),f=te(c)},l(m){t=A(m,"P",{});var g=Q(t);n=ne(g,r),l=ne(g," - "),a=ne(g,o),i=ne(g," days - "),u=ne(g,s),p=ne(g,"°F on "),f=ne(g,c),g.forEach(v)},m(m,g){z(m,t,g),U(t,n),U(t,l),U(t,a),U(t,i),U(t,u),U(t,p),U(t,f)},p(m,g){g&1&&r!==(r=m[3].name.replace(" Area","")+"")&&he(n,r),g&1&&o!==(o=m[3].days_since_daily+"")&&he(a,o),g&1&&s!==(s=m[3].days_since_val+"")&&he(u,s),g&1&&c!==(c=m[3].days_since_daily_date+"")&&he(f,c)},d(m){m&&v(t)}}}function Ro(e){let t,r=Se(e[0]),n=[];for(let l=0;l<r.length;l+=1)n[l]=Bt(Vt(e,r,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();t=re()},l(l){for(let o=0;o<n.length;o+=1)n[o].l(l);t=re()},m(l,o){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(l,o);z(l,t,o)},p(l,[o]){if(o&1){r=Se(l[0]);let a;for(a=0;a<r.length;a+=1){const i=Vt(l,r,a);n[a]?n[a].p(i,o):(n[a]=Bt(i),n[a].c(),n[a].m(t.parentNode,t))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},i:ge,o:ge,d(l){l&&v(t),ft(n,l)}}}function Vo(e,t,r){let{data:n}=t,{dataType:l}=t;const o=()=>{r(0,n=n.sort((a,i)=>+a.days_since_daily-+i.days_since_daily))};return e.$$set=a=>{"data"in a&&r(0,n=a.data),"dataType"in a&&r(1,l=a.dataType)},e.$$.update=()=>{e.$$.dirty&2&&o()},[n,l]}class Bo extends me{constructor(t){super(),de(this,t,Vo,Ro,le,{data:0,dataType:1})}}const Zo=Ln({width:0,height:0},e=>{const t=()=>e({width:window.innerWidth,height:window.innerHeight});return t(),window.addEventListener("resize",So(t,250)),()=>{window.removeEventListener("resize",t)}});function Zt(e){let t;const r=e[12].default,n=Be(r,e,e[11],null);return{c(){n&&n.c()},l(l){n&&n.l(l)},m(l,o){n&&n.m(l,o),t=!0},p(l,o){n&&n.p&&(!t||o[0]&2048)&&Ze(n,r,l,l[11],t?qe(r,l[11],o,null):Qe(l[11]),null)},i(l){t||(Y(n,l),t=!0)},o(l){V(n,l),t=!1},d(l){n&&n.d(l)}}}function Qo(e){let t,r,n=e[1]&&Zt(e);return{c(){t=S("div"),n&&n.c(),this.h()},l(l){t=A(l,"DIV",{class:!0});var o=Q(t);n&&n.l(o),o.forEach(v),this.h()},h(){h(t,"class","mapbox-container svelte-hxe2bp")},m(l,o){z(l,t,o),n&&n.m(t,null),e[13](t),r=!0},p(l,o){l[1]?n?(n.p(l,o),o[0]&2&&Y(n,1)):(n=Zt(l),n.c(),Y(n,1),n.m(t,null)):n&&(ve(),V(n,1,1,()=>{n=null}),Te())},i(l){r||(Y(n),r=!0)},o(l){V(n),r=!1},d(l){l&&v(t),n&&n.d(),e[13](null)}}}let qo=0,Qt=1,qt=!0;function Jo(e,t,r){let n;kn(e,Zo,T=>r(10,n=T));let{$$slots:l={},$$scope:o}=t;const a=Cn();let{data:i}=t,{least:s}=t,{timeframe:u}=t,p,c,f,m={daily:"days_since_daily","all-time":"all_time_days"},g={daily:"days_since_daily_date","all-time":"all_time_date"},M={daily:"days_since_val","all-time":"all_time_val"},F={daily:"daily_text","all-time":"all_time_text"},N={daily:[7,30],"all-time":[30,365]},P={daily:[0,50],"all-time":[0,365]},w={daily:!1,"all-time":!1};mapboxgl.accessToken="pk.eyJ1IjoiZG9jazQyNDIiLCJhIjoiY2xrZ3llNmFkMDRpYjNkcDRuNDQ3MDBmayJ9.r7nPJo7xLNkUAYWp7QO9_g";let{lat:D}=t,{lon:L}=t,{zoom:b}=t;ut("%B %d, %Y");const _=ut("%b. %d"),C=T=>T<2?`${T} Day`:`${T} Days`,Z=T=>{if(T<2)return`${T} Day`;if(T<366)return`${T} Days`;{let _e=Math.floor(T/365);return _e==1?`${_e} Yr.`:`${_e} Yrs.`}},X=T=>T<2?`${T} Day Ago`:T<365?`${T} Days Ago`:`${T} Yrs. Ago`;function R(T){let _e=new Date(T[g[u]].slice(0,4),+T[g[u]].slice(5,7)-1,T[g[u]].slice(8,10));return _(_e)}let I=!1;nn(async()=>{r(9,I=!0)});let E,y;new Map(i.map(T=>[T.station,T]));const O=[[-30.275411,-20.090124],[27.68255,20.703398]];let ie=[L,D],Xe=i.map(function(T){return T.station}),Oe=b,Ee;function Ke(){if(console.log("loading maps"),Ee={type:"FeatureCollection",features:null},Ee.features=i.map(T=>({type:"Feature",properties:{station:T.station,all_time_days:+T.all_time_days,daily_text:C(+T.days_since_daily),all_time_text:Z(+T.all_time_days),days_since_daily:+T.days_since_daily,name:T.name.replace(" Area","")},id:Xe.indexOf(T.station),geometry:{type:"Point",coordinates:[T.true_longitude,T.true_latitude]}})),y)y.remove(),r(1,y=new mapboxgl.Map({container:E,style:`mapbox://styles/dock4242/${style}`,maxBounds:O,center:ie,zoom:Oe,scrollZoom:qt,pitch:80}));else{let T="cl0bhzae7000y14utgxgy71f1";T="clkhcazsh00jj01qwcg723m24",r(1,y=new mapboxgl.Map({container:E,style:`mapbox://styles/dock4242/${T}`,center:[80,36],zoom:Oe,scrollZoom:qt}))}y.once("idle",function(){r(8,p=!0)})}const xe=()=>{console.log("loading layers"),Yn(".mapboxgl-ctrl-zoom-in").size(),y.setLayoutProperty("acis-agg-2-986vec-dots","visibility","none"),y.setLayoutProperty("acis-agg-2-986vec","visibility","none"),w.daily,c||(c=!0,y.addSource("acis",{type:"geojson",data:Ee})),w[u]||(y.addLayer({id:`circle-${u}`,type:"circle",source:"acis",layout:{},paint:{"circle-stroke-color":"#000","circle-radius":["interpolate",["linear"],["zoom"],3,["match",["get","station"],[s.station],10,["interpolate",["linear"],["get",m[u]],P[u][0],10,P[u][1],2]],6,["interpolate",["linear"],["get",m[u]],0,10,100,10]],"circle-stroke-width":["match",["get","station"],[s.station],1,0],"circle-color":["interpolate",["linear"],["get",m[u]],0,"hsl(0, 95%, 57%)",100,"hsl(0, 0%, 85%)"],"circle-stroke-opacity":1}},"settlement-minor-label"),y.addLayer({id:`label-${u}`,type:"symbol",source:"acis",layout:{"text-offset":["step",["zoom"],["literal",[0,0]],2,["literal",[0,0]],6,["literal",[0,.55]]],"text-field":["step",["zoom"],["match",["get","station"],[s.station],"",["concat",["to-string",["get",u=="daily"?m[u]:F[u]]],""]],6,["format",["to-string",["get",F[u]]],{"font-scale":1},`
`,{},["get","name"],{"font-scale":.8}]],"text-size":16,"text-allow-overlap":["step",["zoom"],!1,5,!0],"text-font":["Overpass Mono SemiBold","Arial Unicode MS Regular"],"text-ignore-placement":["step",["zoom"],!0,5,!1]},paint:{"text-halo-color":"hsl(0, 0%, 100%)","text-halo-width":1.5,"text-opacity":["interpolate",["linear"],["zoom"],4,["interpolate",["linear"],["get",m[u]],N[u][0],1,N[u][1],0],6,["interpolate",["linear"],["get",m[u]],14,1,100,1]]}}),y.addLayer({id:`label-top-${u}`,type:"symbol",source:"acis",maxzoom:6,filter:["all",["match",["get","station"],[s.station],!0,!1]],layout:{"text-line-height":1.2,"text-anchor":"top","text-padding":20,"text-offset":[0,-.5],"text-field":["format",`${X(s[m[u]])}`,{"font-scale":1},`
`,{},`${s[M[u]]}°F in ${s.name.replace(" Area","")}`,{"font-scale":.75},`
`,{},`Hottest ${u=="daily"?R(s):"Temperature"} Ever`,{"font-scale":.75}],"text-font":["Overpass Mono Bold","Arial Unicode MS Regular"]},paint:{"text-halo-color":"hsl(0, 0%, 100%)","text-halo-width":2,"text-opacity":["interpolate",["linear"],["zoom"],4,["interpolate",["linear"],["get",m[u]],14,1,50,0],6,["interpolate",["linear"],["get",m[u]],14,1,100,1]]}}));let T;u=="daily"?T="all-time":T="daily",w[T]&&(y.setLayoutProperty(`circle-${T}`,"visibility","none"),y.setLayoutProperty(`label-${T}`,"visibility","none"),y.setLayoutProperty(`label-top-${T}`,"visibility","none")),w[u]&&(y.setLayoutProperty(`circle-${u}`,"visibility","visible"),y.setLayoutProperty(`label-${u}`,"visibility","visible"),y.setLayoutProperty(`label-top-${u}`,"visibility","visible")),y.once("idle",function(){w[u]=!0,f?y.flyTo({center:[s.true_longitude,s.true_latitude],zoom:4,pitch:0,speed:Qt,essential:!0}):setTimeout(async()=>{a("loaded",{}),y.flyTo({center:[s.true_longitude,s.true_latitude],zoom:4,pitch:0,speed:Qt,essential:!0}),f=!0},qo)})};Mn(()=>{y&&y.remove()});function $e(T){rn[T?"unshift":"push"](()=>{E=T,r(0,E)})}return e.$$set=T=>{"data"in T&&r(2,i=T.data),"least"in T&&r(3,s=T.least),"timeframe"in T&&r(4,u=T.timeframe),"lat"in T&&r(5,D=T.lat),"lon"in T&&r(6,L=T.lon),"zoom"in T&&r(7,b=T.zoom),"$$scope"in T&&r(11,o=T.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&1024&&n.width,e.$$.dirty[0]&1024&&n.height,e.$$.dirty[0]&512&&I==!0&&Ke(),e.$$.dirty[0]&272&&p&&xe()},[E,y,i,s,u,D,L,b,p,I,n,o,l,$e]}class Go extends me{constructor(t){super(),de(this,t,Jo,Qo,le,{data:2,least:3,timeframe:4,lat:5,lon:6,zoom:7},null,[-1,-1])}}function Jt(e){let t,r,n,l;const o=[Ko,Xo],a=[];function i(s,u){return s[1]=="daily"?0:1}return r=i(e),n=a[r]=o[r](e),{c(){t=S("div"),n.c(),this.h()},l(s){t=A(s,"DIV",{class:!0});var u=Q(t);n.l(u),u.forEach(v),this.h()},h(){h(t,"class","title svelte-4puwdm"),De(t,"moveTitles",e[6])},m(s,u){z(s,t,u),a[r].m(t,null)},p(s,u){let p=r;r=i(s),r!==p&&(ve(),V(a[p],1,1,()=>{a[p]=null}),Te(),n=a[r],n||(n=a[r]=o[r](s),n.c()),Y(n,1),n.m(t,null)),u&64&&De(t,"moveTitles",s[6])},i(s){Y(n),s&&(l||Ne(()=>{l=Je(t,gn,{delay:1e3,duration:1e3}),l.start()}))},o(s){V(n)},d(s){s&&v(t),a[r].d()}}}function Xo(e){let t,r="Time since a city had the highest temperature ever recorded",n;return{c(){t=S("h1"),t.textContent=r,this.h()},l(l){t=A(l,"H1",{class:!0,"data-svelte-h":!0}),pe(t)!=="svelte-aayqps"&&(t.textContent=r),this.h()},h(){h(t,"class","svelte-4puwdm")},m(l,o){z(l,t,o)},i(l){l&&(n||Ne(()=>{n=Je(t,Fe,{y:20,duration:1e3,delay:1e3}),n.start()}))},o:ge,d(l){l&&v(t)}}}function Ko(e){let t,r="Days since a city had a record-high temperature",n,l;return{c(){t=S("h1"),t.textContent=r,this.h()},l(o){t=A(o,"H1",{class:!0,"data-svelte-h":!0}),pe(t)!=="svelte-z1fibg"&&(t.textContent=r),this.h()},h(){h(t,"class","svelte-4puwdm")},m(o,a){z(o,t,a),l=!0},i(o){l||(n&&n.end(1),l=!0)},o(o){o&&(n=on(t,Fe,{y:-20,duration:1e3})),l=!1},d(o){o&&v(t),o&&n&&n.end()}}}function Gt(e){let t,r='<p class="svelte-4puwdm">loading...</p>',n,l;return{c(){t=S("div"),t.innerHTML=r,this.h()},l(o){t=A(o,"DIV",{class:!0,"data-svelte-h":!0}),pe(t)!=="svelte-eub3jg"&&(t.innerHTML=r),this.h()},h(){h(t,"class","loading svelte-4puwdm")},m(o,a){z(o,t,a),l=!0},i(o){l||(n&&n.end(1),l=!0)},o(o){o&&(n=on(t,Fe,{delay:500,y:-20,duration:500})),l=!1},d(o){o&&v(t),o&&n&&n.end()}}}function Xt(e){let t,r,n,l,o,a=e[7]=="list"&&Kt(e);return n=new Go({props:{lat:e[3].true_latitude,lon:e[3].true_longitude,zoom:1,data:e[0],least:e[3],timeframe:e[1]}}),n.$on("loaded",e[8]),{c(){a&&a.c(),t=$(),r=S("div"),se(n.$$.fragment),this.h()},l(i){a&&a.l(i),t=ee(i),r=A(i,"DIV",{class:!0,style:!0});var s=Q(r);ue(n.$$.fragment,s),s.forEach(v),this.h()},h(){h(r,"class","map-wrapper svelte-4puwdm"),vt(r,"height",e[5]+"px")},m(i,s){a&&a.m(i,s),z(i,t,s),z(i,r,s),ce(n,r,null),o=!0},p(i,s){i[7]=="list"?a?(a.p(i,s),s&128&&Y(a,1)):(a=Kt(i),a.c(),Y(a,1),a.m(t.parentNode,t)):a&&(ve(),V(a,1,1,()=>{a=null}),Te());const u={};s&8&&(u.lat=i[3].true_latitude),s&8&&(u.lon=i[3].true_longitude),s&1&&(u.data=i[0]),s&8&&(u.least=i[3]),s&2&&(u.timeframe=i[1]),n.$set(u),(!o||s&32)&&vt(r,"height",i[5]+"px")},i(i){o||(Y(a),Y(n.$$.fragment,i),i&&(l||Ne(()=>{l=Je(r,gn,{delay:2e3}),l.start()})),o=!0)},o(i){V(a),V(n.$$.fragment,i),o=!1},d(i){i&&(v(t),v(r)),a&&a.d(i),fe(n)}}}function Kt(e){let t,r,n,l,o;return n=new Bo({props:{data:e[0],dataType:e[1]}}),{c(){t=S("div"),r=S("div"),se(n.$$.fragment),this.h()},l(a){t=A(a,"DIV",{class:!0});var i=Q(t);r=A(i,"DIV",{class:!0});var s=Q(r);ue(n.$$.fragment,s),s.forEach(v),i.forEach(v),this.h()},h(){h(r,"class","inner-list svelte-4puwdm"),h(t,"class","list svelte-4puwdm")},m(a,i){z(a,t,i),U(t,r),ce(n,r,null),o=!0},p(a,i){e=a;const s={};i&1&&(s.data=e[0]),i&2&&(s.dataType=e[1]),n.$set(s)},i(a){o||(Y(n.$$.fragment,a),a&&Ne(()=>{o&&(l||(l=bt(t,Fe,{x:e[4],duration:500,delay:500,opacity:1},!0)),l.run(1))}),o=!0)},o(a){V(n.$$.fragment,a),a&&(l||(l=bt(t,Fe,{x:e[4],duration:500,delay:500,opacity:1},!1)),l.run(0)),o=!1},d(a){a&&v(t),fe(n),a&&l&&l.end()}}}function xt(e){let t,r,n,l="Time since a heat record was set...",o,a,i,s,u,p,c=e[7]=="map"?"List":"Map",f,m,g,M,F,N,P,w,D,L;function b(R){e[11](R)}let _={label:"",style:"inner"};e[2]!==void 0&&(_.value=e[2]),a=new io({props:_}),rn.push(()=>Un(a,"value",b));const C=[$o,xo],Z=[];function X(R,I){return R[7]=="map"?0:1}return F=X(e),N=Z[F]=C[F](e),{c(){t=S("div"),r=S("section"),n=S("p"),n.textContent=l,o=$(),se(a.$$.fragment),s=$(),u=S("div"),p=S("p"),f=te(c),m=te(" View"),g=$(),M=S("button"),N.c(),this.h()},l(R){t=A(R,"DIV",{class:!0});var I=Q(t);r=A(I,"SECTION",{class:!0});var E=Q(r);n=A(E,"P",{class:!0,"data-svelte-h":!0}),pe(n)!=="svelte-tmd2ls"&&(n.textContent=l),o=ee(E),ue(a.$$.fragment,E),E.forEach(v),s=ee(I),u=A(I,"DIV",{class:!0});var y=Q(u);p=A(y,"P",{class:!0});var O=Q(p);f=ne(O,c),m=ne(O," View"),O.forEach(v),g=ee(y),M=A(y,"BUTTON",{class:!0});var ie=Q(M);N.l(ie),ie.forEach(v),y.forEach(v),I.forEach(v),this.h()},h(){h(n,"class","svelte-4puwdm"),h(r,"class","timeframe-toggle svelte-4puwdm"),h(p,"class","svelte-4puwdm"),h(M,"class","toolbar-button svelte-4puwdm"),h(u,"class","project-view-toggle svelte-4puwdm"),h(t,"class","toolbar svelte-4puwdm")},m(R,I){z(R,t,I),U(t,r),U(r,n),U(r,o),ce(a,r,null),U(t,s),U(t,u),U(u,p),U(p,f),U(p,m),U(u,g),U(u,M),Z[F].m(M,null),w=!0,D||(L=mt(M,"click",e[12]),D=!0)},p(R,I){e=R;const E={};!i&&I&4&&(i=!0,E.value=e[2],Dn(()=>i=!1)),a.$set(E),(!w||I&128)&&c!==(c=e[7]=="map"?"List":"Map")&&he(f,c);let y=F;F=X(e),F!==y&&(ve(),V(Z[y],1,1,()=>{Z[y]=null}),Te(),N=Z[F],N||(N=Z[F]=C[F](e),N.c()),Y(N,1),N.m(M,null))},i(R){w||(Y(a.$$.fragment,R),Y(N),R&&(P||Ne(()=>{P=Je(t,Fe,{y:20,duration:1e3,delay:nl}),P.start()})),w=!0)},o(R){V(a.$$.fragment,R),V(N),w=!1},d(R){R&&v(t),fe(a),Z[F].d(),D=!1,L()}}}function xo(e){let t,r;return t=new Io({props:{color:"#000",strokeWidth:2}}),{c(){se(t.$$.fragment)},l(n){ue(t.$$.fragment,n)},m(n,l){ce(t,n,l),r=!0},i(n){r||(Y(t.$$.fragment,n),r=!0)},o(n){V(t.$$.fragment,n),r=!1},d(n){fe(t,n)}}}function $o(e){let t,r;return t=new Po({props:{color:"#000",strokeWidth:2}}),{c(){se(t.$$.fragment)},l(n){ue(t.$$.fragment,n)},m(n,l){ce(t,n,l),r=!0},i(n){r||(Y(t.$$.fragment,n),r=!0)},o(n){V(t.$$.fragment,n),r=!1},d(n){fe(t,n)}}}function el(e){let t,r,n="",l,o,a='A Project from <a target="_blank" href="/">The Pudding</a>',i,s,u,p="",c,f,m,g,M,F,N,P;Ne(e[10]);let w=e[0]&&Jt(e),D=!e[0]&&Gt(),L=e[0]&&Xt(e),b=e[6]&&xt(e);return{c(){t=S("div"),r=S("div"),r.innerHTML=n,l=$(),o=S("h3"),o.innerHTML=a,i=$(),s=S("div"),u=S("div"),u.innerHTML=p,c=$(),w&&w.c(),f=$(),D&&D.c(),m=$(),L&&L.c(),g=$(),b&&b.c(),M=re(),this.h()},l(_){t=A(_,"DIV",{class:!0});var C=Q(t);r=A(C,"DIV",{class:!0,"data-svelte-h":!0}),pe(r)!=="svelte-5elc9n"&&(r.innerHTML=n),l=ee(C),o=A(C,"H3",{class:!0,"data-svelte-h":!0}),pe(o)!=="svelte-1adzugf"&&(o.innerHTML=a),C.forEach(v),i=ee(_),s=A(_,"DIV",{class:!0});var Z=Q(s);u=A(Z,"DIV",{class:!0,"data-svelte-h":!0}),pe(u)!=="svelte-5elc9n"&&(u.innerHTML=p),Z.forEach(v),c=ee(_),w&&w.l(_),f=ee(_),D&&D.l(_),m=ee(_),L&&L.l(_),g=ee(_),b&&b.l(_),M=re(),this.h()},h(){h(r,"class","white-fade not-loaded svelte-4puwdm"),De(r,"moveTitles",e[6]),h(o,"class","svelte-4puwdm"),h(t,"class","bottom svelte-4puwdm"),h(u,"class","white-fade not-loaded svelte-4puwdm"),De(u,"moveTitles",e[6]),h(s,"class","top svelte-4puwdm")},m(_,C){z(_,t,C),U(t,r),U(t,l),U(t,o),z(_,i,C),z(_,s,C),U(s,u),z(_,c,C),w&&w.m(_,C),z(_,f,C),D&&D.m(_,C),z(_,m,C),L&&L.m(_,C),z(_,g,C),b&&b.m(_,C),z(_,M,C),F=!0,N||(P=mt(window,"resize",e[10]),N=!0)},p(_,[C]){(!F||C&64)&&De(r,"moveTitles",_[6]),(!F||C&64)&&De(u,"moveTitles",_[6]),_[0]?w?(w.p(_,C),C&1&&Y(w,1)):(w=Jt(_),w.c(),Y(w,1),w.m(f.parentNode,f)):w&&(w.d(1),w=null),_[0]?D&&(ve(),V(D,1,1,()=>{D=null}),Te()):D?C&1&&Y(D,1):(D=Gt(),D.c(),Y(D,1),D.m(m.parentNode,m)),_[0]?L?(L.p(_,C),C&1&&Y(L,1)):(L=Xt(_),L.c(),Y(L,1),L.m(g.parentNode,g)):L&&(ve(),V(L,1,1,()=>{L=null}),Te()),_[6]?b?(b.p(_,C),C&64&&Y(b,1)):(b=xt(_),b.c(),Y(b,1),b.m(M.parentNode,M)):b&&(ve(),V(b,1,1,()=>{b=null}),Te())},i(_){F||(Y(w),Y(D),Y(L),Y(b),F=!0)},o(_){V(D),V(L),V(b),F=!1},d(_){_&&(v(t),v(i),v(s),v(c),v(f),v(m),v(g),v(M)),w&&w.d(_),D&&D.d(_),L&&L.d(_),b&&b.d(_),N=!1,P()}}}let tl="https://pudding.cool/2022/03/weather-map-data/acis.csv",nl=0;function rl(e,t,r){let n,l="daily",o,a,i,s,u,p="map",c="daily",f=["Charleston Downtown Area","Austin-Bergstrom Airport Area","Portland Downtown Area"];const m=()=>{console.log("here"),r(6,u=!0)},g=()=>{p=="map"?r(7,p="list"):r(7,p="map")};async function M(w){console.log("setting least",l),a=Wn(w,D=>l=="daily"?+D.days_since_daily:+D.all_time_days),r(3,o=w[a])}nn(async()=>{Zn(tl).then(async function(w){await M(w),r(0,n=w.filter(D=>f.indexOf(D.name)==-1))})});function F(){r(5,s=window.innerHeight),r(4,i=window.innerWidth)}function N(w){c=w,r(2,c)}const P=()=>g();return e.$$.update=()=>{e.$$.dirty&4&&r(1,l=c),e.$$.dirty&3&&n&&M(n),e.$$.dirty&4&&console.log(c)},[n,l,c,o,i,s,u,p,m,g,F,N,P]}class ol extends me{constructor(t){super(),de(this,t,rl,el,le,{})}}const ll="Title TK",al="Description tk.",$t={title:ll,description:al};function il(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 5.11.1"),console.log("build: 2023-07-27-19:04"),console.log("--- --- --- --- --- ---")}function sl(e){let t,r,n,l;return t=new En({props:{title:e[1],description:e[2],url:e[3],preloadFont:e[0],keywords:e[4]}}),n=new ol({}),{c(){se(t.$$.fragment),r=$(),se(n.$$.fragment)},l(o){ue(t.$$.fragment,o),r=ee(o),ue(n.$$.fragment,o)},m(o,a){ce(t,o,a),z(o,r,a),ce(n,o,a),l=!0},p:ge,i(o){l||(Y(t.$$.fragment,o),Y(n.$$.fragment,o),l=!0)},o(o){V(t.$$.fragment,o),V(n.$$.fragment,o),l=!1},d(o){o&&v(r),fe(t,o),fe(n,o)}}}function ul(e,t,r){let{data:n}=t;il();const l=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/national/National2Web-Regular.woff2","https://pudding.cool/assets/fonts/national/National2Web-Bold.woff2"],{title:o,description:a,url:i,keywords:s}=$t;return Tt("copy",$t),Tt("data",n.data),e.$$set=u=>{"data"in u&&r(5,n=u.data)},[l,o,a,i,s,n]}class hl extends me{constructor(t){super(),de(this,t,ul,sl,le,{data:5})}}export{hl as component};
