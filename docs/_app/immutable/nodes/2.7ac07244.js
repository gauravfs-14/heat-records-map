import{s as xe,n as Je,e as cn,o as Bt,f as fn,c as mn,u as dn,g as hn,d as gn,b as yn,h as pn,i as ft}from"../chunks/scheduler.e6b96cff.js";import{S as Ee,i as Ye,g as P,e as mt,z as Vt,h as I,f as U,k as p,y as H,A as Mn,a as K,s as de,H as Tn,c as he,j as Se,B as vn,C as qt,d as te,p as Qt,t as oe,b as Jt,x as Oe,r as Xe,u as Ge,l as dt,v as Ke,w as $e}from"../chunks/index.969cb5d6.js";import{e as ht,d as _n,S as gt,a as wn,r as bn,c as Cn,i as et,b as yt,f as pt,g as Dn}from"../chunks/transform.842a52ea.js";import{r as Un}from"../chunks/index.f9b3f51a.js";function Mt(e,t,n){const r=e.slice();return r[5]=t[n],r}function Tt(e){let t,n;return{c(){t=P("link"),this.h()},l(r){t=I(r,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){p(t,"rel","preload"),p(t,"href",n=e[5]),p(t,"as","font"),p(t,"type","font/woff2"),p(t,"crossorigin","")},m(r,o){K(r,t,o)},p(r,o){o&16&&n!==(n=r[5])&&p(t,"href",n)},d(r){r&&U(t)}}}function Sn(e){let t,n,r,o,a,i,u,l,s,v,c,m,g,d,w,x,A,M,j,O,L,C,Y,F,V,q;document.title=t=e[0];let D=ht(e[4]),y=[];for(let b=0;b<D.length;b+=1)y[b]=Tt(Mt(e,D,b));return{c(){n=P("meta"),r=P("meta"),o=P("meta"),a=P("meta"),i=P("meta"),u=P("meta"),l=P("meta"),s=P("meta"),v=P("meta"),c=P("meta"),g=P("meta"),d=P("meta"),w=P("meta"),x=P("meta"),A=P("meta"),M=P("meta"),j=P("meta"),O=P("meta"),L=P("meta"),Y=P("meta"),F=P("link");for(let b=0;b<y.length;b+=1)y[b].c();q=mt(),this.h()},l(b){const _=Vt("svelte-1htu80s",document.head);n=I(_,"META",{name:!0,content:!0}),r=I(_,"META",{name:!0,content:!0}),o=I(_,"META",{name:!0,content:!0}),a=I(_,"META",{property:!0,content:!0}),i=I(_,"META",{property:!0,content:!0}),u=I(_,"META",{property:!0,content:!0}),l=I(_,"META",{property:!0,content:!0}),s=I(_,"META",{property:!0,content:!0}),v=I(_,"META",{property:!0,content:!0}),c=I(_,"META",{property:!0,content:!0}),g=I(_,"META",{property:!0,content:!0}),d=I(_,"META",{property:!0,content:!0}),w=I(_,"META",{property:!0,content:!0}),x=I(_,"META",{name:!0,content:!0}),A=I(_,"META",{name:!0,content:!0}),M=I(_,"META",{name:!0,content:!0}),j=I(_,"META",{name:!0,content:!0}),O=I(_,"META",{name:!0,content:!0}),L=I(_,"META",{name:!0,content:!0}),Y=I(_,"META",{name:!0,content:!0}),F=I(_,"LINK",{rel:!0,href:!0});for(let S=0;S<y.length;S+=1)y[S].l(_);q=mt(),_.forEach(U),this.h()},h(){p(n,"name","description"),p(n,"content",e[1]),p(r,"name","author"),p(r,"content","The Pudding"),p(o,"name","news_keywords"),p(o,"content",e[3]),p(a,"property","og:title"),p(a,"content",e[0]),p(i,"property","og:site_name"),p(i,"content","The Pudding"),p(u,"property","og:url"),p(u,"content",e[2]),p(l,"property","og:description"),p(l,"content",e[1]),p(s,"property","og:type"),p(s,"content","article"),p(v,"property","og:locale"),p(v,"content","en_US"),p(c,"property","og:image"),p(c,"content",m=e[2]+"/assets/social-facebook.jpg"),p(g,"property","og:image:type"),p(g,"content","image/jpeg"),p(d,"property","og:image:width"),p(d,"content","1200"),p(w,"property","og:image:height"),p(w,"content","600"),p(x,"name","twitter:card"),p(x,"content","summary_large_image"),p(A,"name","twitter:site"),p(A,"content","https://pudding.cool"),p(M,"name","twitter:creator"),p(M,"content","@puddingviz"),p(j,"name","twitter:title"),p(j,"content",e[0]),p(O,"name","twitter:description"),p(O,"content",e[1]),p(L,"name","twitter:image:src"),p(L,"content",C=e[2]+"/assets/social-twitter.jpg"),p(Y,"name","robots"),p(Y,"content","max-image-preview:large"),p(F,"rel","canonical"),p(F,"href",V=e[2]+"/")},m(b,_){H(document.head,n),H(document.head,r),H(document.head,o),H(document.head,a),H(document.head,i),H(document.head,u),H(document.head,l),H(document.head,s),H(document.head,v),H(document.head,c),H(document.head,g),H(document.head,d),H(document.head,w),H(document.head,x),H(document.head,A),H(document.head,M),H(document.head,j),H(document.head,O),H(document.head,L),H(document.head,Y),H(document.head,F);for(let S=0;S<y.length;S+=1)y[S]&&y[S].m(document.head,null);H(document.head,q)},p(b,[_]){if(_&1&&t!==(t=b[0])&&(document.title=t),_&2&&p(n,"content",b[1]),_&8&&p(o,"content",b[3]),_&1&&p(a,"content",b[0]),_&4&&p(u,"content",b[2]),_&2&&p(l,"content",b[1]),_&4&&m!==(m=b[2]+"/assets/social-facebook.jpg")&&p(c,"content",m),_&1&&p(j,"content",b[0]),_&2&&p(O,"content",b[1]),_&4&&C!==(C=b[2]+"/assets/social-twitter.jpg")&&p(L,"content",C),_&4&&V!==(V=b[2]+"/")&&p(F,"href",V),_&16){D=ht(b[4]);let S;for(S=0;S<D.length;S+=1){const z=Mt(b,D,S);y[S]?y[S].p(z,_):(y[S]=Tt(z),y[S].c(),y[S].m(q.parentNode,q))}for(;S<y.length;S+=1)y[S].d(1);y.length=D.length}},i:Je,o:Je,d(b){U(n),U(r),U(o),U(a),U(i),U(u),U(l),U(s),U(v),U(c),U(g),U(d),U(w),U(x),U(A),U(M),U(j),U(O),U(L),U(Y),U(F),Mn(y,b),U(q)}}}function kn(e,t,n){let{title:r="Title TK"}=t,{description:o="Description TK"}=t,{url:a="https://pudding.cool"}=t,{keywords:i=""}=t,{preloadFont:u=[]}=t;return e.$$set=l=>{"title"in l&&n(0,r=l.title),"description"in l&&n(1,o=l.description),"url"in l&&n(2,a=l.url),"keywords"in l&&n(3,i=l.keywords),"preloadFont"in l&&n(4,u=l.preloadFont)},[r,o,a,i,u]}class Fn extends Ee{constructor(t){super(),Ye(this,t,kn,Sn,xe,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}function ke(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Xt(e){let t,n,r;e.length!==2?(t=ke,n=(u,l)=>ke(e(u),l),r=(u,l)=>e(u)-l):(t=e===ke||e===_n?e:An,n=e,r=e);function o(u,l,s=0,v=u.length){if(s<v){if(t(l,l)!==0)return v;do{const c=s+v>>>1;n(u[c],l)<0?s=c+1:v=c}while(s<v)}return s}function a(u,l,s=0,v=u.length){if(s<v){if(t(l,l)!==0)return v;do{const c=s+v>>>1;n(u[c],l)<=0?s=c+1:v=c}while(s<v)}return s}function i(u,l,s=0,v=u.length){const c=o(u,l,s,v-1);return c>s&&r(u[c-1],l)>-r(u[c],l)?c-1:c}return{left:o,center:i,right:a}}function An(){return 0}function Nn(e){return e===null?NaN:+e}const jn=Xt(ke),Ln=jn.right;Xt(Nn).center;const xn=Ln,En=Math.sqrt(50),Yn=Math.sqrt(10),Pn=Math.sqrt(2);function Fe(e,t,n){const r=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(r)),a=r/Math.pow(10,o),i=a>=En?10:a>=Yn?5:a>=Pn?2:1;let u,l,s;return o<0?(s=Math.pow(10,-o)/i,u=Math.round(e*s),l=Math.round(t*s),u/s<e&&++u,l/s>t&&--l,s=-s):(s=Math.pow(10,o)*i,u=Math.round(e/s),l=Math.round(t/s),u*s<e&&++u,l*s>t&&--l),l<u&&.5<=n&&n<2?Fe(e,t,n*2):[u,l,s]}function In(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[o,a,i]=r?Fe(t,e,n):Fe(e,t,n);if(!(a>=o))return[];const u=a-o+1,l=new Array(u);if(r)if(i<0)for(let s=0;s<u;++s)l[s]=(a-s)/-i;else for(let s=0;s<u;++s)l[s]=(a-s)*i;else if(i<0)for(let s=0;s<u;++s)l[s]=(o+s)/-i;else for(let s=0;s<u;++s)l[s]=(o+s)*i;return l}function tt(e,t,n){return t=+t,e=+e,n=+n,Fe(e,t,n)[2]}function Wn(e,t,n){t=+t,e=+e,n=+n;const r=t<e,o=r?tt(t,e,n):tt(e,t,n);return(r?-1:1)*(o<0?1/-o:o)}function On(e,t){let n,r=-1,o=-1;if(t===void 0)for(const a of e)++o,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=o);else for(let a of e)(a=t(a,++o,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=o);return r}function Hn(e){return typeof e=="string"?new gt([document.querySelectorAll(e)],[document.documentElement]):new gt([wn(e)],bn)}function zn(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(a){for(o=0;o<n;++o)r[o]=e[o]*(1-a)+t[o]*a;return r}}function Rn(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Zn(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),a=new Array(n),i;for(i=0;i<r;++i)o[i]=at(e[i],t[i]);for(;i<n;++i)a[i]=t[i];return function(u){for(i=0;i<r;++i)a[i]=o[i](u);return a}}function Bn(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Vn(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=at(e[o],t[o]):r[o]=t[o];return function(a){for(o in n)r[o]=n[o](a);return r}}function at(e,t){var n=typeof t,r;return t==null||n==="boolean"?Cn(t):(n==="number"?et:n==="string"?(r=yt(t))?(t=r,pt):Dn:t instanceof yt?pt:t instanceof Date?Bn:Rn(t)?zn:Array.isArray(t)?Zn:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Vn:et)(e,t)}function qn(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var vt={},He={},ze=34,Te=10,Re=13;function Gt(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function Qn(e,t){var n=Gt(e);return function(r,o){return t(n(r),o,e)}}function _t(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var o in r)o in t||n.push(t[o]=o)}),n}function J(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function Jn(e){return e<0?"-"+J(-e,6):e>9999?"+"+J(e,6):J(e,4)}function Xn(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":Jn(e.getUTCFullYear())+"-"+J(e.getUTCMonth()+1,2)+"-"+J(e.getUTCDate(),2)+(o?"T"+J(t,2)+":"+J(n,2)+":"+J(r,2)+"."+J(o,3)+"Z":r?"T"+J(t,2)+":"+J(n,2)+":"+J(r,2)+"Z":n||t?"T"+J(t,2)+":"+J(n,2)+"Z":"")}function Gn(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(c,m){var g,d,w=o(c,function(x,A){if(g)return g(x,A-1);d=x,g=m?Qn(x,m):Gt(x)});return w.columns=d||[],w}function o(c,m){var g=[],d=c.length,w=0,x=0,A,M=d<=0,j=!1;c.charCodeAt(d-1)===Te&&--d,c.charCodeAt(d-1)===Re&&--d;function O(){if(M)return He;if(j)return j=!1,vt;var C,Y=w,F;if(c.charCodeAt(Y)===ze){for(;w++<d&&c.charCodeAt(w)!==ze||c.charCodeAt(++w)===ze;);return(C=w)>=d?M=!0:(F=c.charCodeAt(w++))===Te?j=!0:F===Re&&(j=!0,c.charCodeAt(w)===Te&&++w),c.slice(Y+1,C-1).replace(/""/g,'"')}for(;w<d;){if((F=c.charCodeAt(C=w++))===Te)j=!0;else if(F===Re)j=!0,c.charCodeAt(w)===Te&&++w;else if(F!==n)continue;return c.slice(Y,C)}return M=!0,c.slice(Y,d)}for(;(A=O())!==He;){for(var L=[];A!==vt&&A!==He;)L.push(A),A=O();m&&(L=m(L,x++))==null||g.push(L)}return g}function a(c,m){return c.map(function(g){return m.map(function(d){return v(g[d])}).join(e)})}function i(c,m){return m==null&&(m=_t(c)),[m.map(v).join(e)].concat(a(c,m)).join(`
`)}function u(c,m){return m==null&&(m=_t(c)),a(c,m).join(`
`)}function l(c){return c.map(s).join(`
`)}function s(c){return c.map(v).join(e)}function v(c){return c==null?"":c instanceof Date?Xn(c):t.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:r,parseRows:o,format:i,formatBody:u,formatRows:l,formatRow:s,formatValue:v}}var Kn=Gn(","),$n=Kn.parse;function er(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function tr(e,t){return fetch(e,t).then(er)}function nr(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),tr(t,n).then(function(o){return e(o,r)})}}var rr=nr($n);function or(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ae(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ge(e){return e=Ae(Math.abs(e)),e?e[1]:NaN}function ar(e,t){return function(n,r){for(var o=n.length,a=[],i=0,u=e[0],l=0;o>0&&u>0&&(l+u+1>r&&(u=Math.max(1,r-l)),a.push(n.substring(o-=u,o+u)),!((l+=u+1)>r));)u=e[i=(i+1)%e.length];return a.reverse().join(t)}}function ir(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var ur=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ne(e){if(!(t=ur.exec(e)))throw new Error("invalid format: "+e);var t;return new it({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ne.prototype=it.prototype;function it(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}it.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lr(e){e:for(var t=e.length,n=1,r=-1,o;n<t;++n)switch(e[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(o+1):e}var Kt;function sr(e,t){var n=Ae(e,t);if(!n)return e+"";var r=n[0],o=n[1],a=o-(Kt=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,i=r.length;return a===i?r:a>i?r+new Array(a-i+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ae(e,Math.max(0,t+a-1))[0]}function wt(e,t){var n=Ae(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}const bt={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:or,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>wt(e*100,t),r:wt,s:sr,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ct(e){return e}var Dt=Array.prototype.map,Ut=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function cr(e){var t=e.grouping===void 0||e.thousands===void 0?Ct:ar(Dt.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Ct:ir(Dt.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function s(c){c=Ne(c);var m=c.fill,g=c.align,d=c.sign,w=c.symbol,x=c.zero,A=c.width,M=c.comma,j=c.precision,O=c.trim,L=c.type;L==="n"?(M=!0,L="g"):bt[L]||(j===void 0&&(j=12),O=!0,L="g"),(x||m==="0"&&g==="=")&&(x=!0,m="0",g="=");var C=w==="$"?n:w==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",Y=w==="$"?r:/[%p]/.test(L)?i:"",F=bt[L],V=/[defgprs%]/.test(L);j=j===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function q(D){var y=C,b=Y,_,S,z;if(L==="c")b=F(D)+b,D="";else{D=+D;var $=D<0||1/D<0;if(D=isNaN(D)?l:F(Math.abs(D),j),O&&(D=lr(D)),$&&+D==0&&d!=="+"&&($=!1),y=($?d==="("?d:u:d==="-"||d==="("?"":d)+y,b=(L==="s"?Ut[8+Kt/3]:"")+b+($&&d==="("?")":""),V){for(_=-1,S=D.length;++_<S;)if(z=D.charCodeAt(_),48>z||z>57){b=(z===46?o+D.slice(_+1):D.slice(_))+b,D=D.slice(0,_);break}}}M&&!x&&(D=t(D,1/0));var B=y.length+D.length+b.length,R=B<A?new Array(A-B+1).join(m):"";switch(M&&x&&(D=t(R+D,R.length?A-b.length:1/0),R=""),g){case"<":D=y+D+b+R;break;case"=":D=y+R+D+b;break;case"^":D=R.slice(0,B=R.length>>1)+y+D+b+R.slice(B);break;default:D=R+y+D+b;break}return a(D)}return q.toString=function(){return c+""},q}function v(c,m){var g=s((c=Ne(c),c.type="f",c)),d=Math.max(-8,Math.min(8,Math.floor(ge(m)/3)))*3,w=Math.pow(10,-d),x=Ut[8+d/3];return function(A){return g(w*A)+x}}return{format:s,formatPrefix:v}}var De,$t,en;fr({thousands:",",grouping:[3],currency:["$",""]});function fr(e){return De=cr(e),$t=De.format,en=De.formatPrefix,De}function mr(e){return Math.max(0,-ge(Math.abs(e)))}function dr(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ge(t)/3)))*3-ge(Math.abs(e)))}function hr(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ge(t)-ge(e))+1}function gr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function yr(e){return function(){return e}}function pr(e){return+e}var St=[0,1];function me(e){return e}function nt(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:yr(isNaN(t)?NaN:.5)}function Mr(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Tr(e,t,n){var r=e[0],o=e[1],a=t[0],i=t[1];return o<r?(r=nt(o,r),a=n(i,a)):(r=nt(r,o),a=n(a,i)),function(u){return a(r(u))}}function vr(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),a=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)o[i]=nt(e[i],e[i+1]),a[i]=n(t[i],t[i+1]);return function(u){var l=xn(e,u,1,r)-1;return a[l](o[l](u))}}function _r(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function wr(){var e=St,t=St,n=at,r,o,a,i=me,u,l,s;function v(){var m=Math.min(e.length,t.length);return i!==me&&(i=Mr(e[0],e[m-1])),u=m>2?vr:Tr,l=s=null,c}function c(m){return m==null||isNaN(m=+m)?a:(l||(l=u(e.map(r),t,n)))(r(i(m)))}return c.invert=function(m){return i(o((s||(s=u(t,e.map(r),et)))(m)))},c.domain=function(m){return arguments.length?(e=Array.from(m,pr),v()):e.slice()},c.range=function(m){return arguments.length?(t=Array.from(m),v()):t.slice()},c.rangeRound=function(m){return t=Array.from(m),n=qn,v()},c.clamp=function(m){return arguments.length?(i=m?!0:me,v()):i!==me},c.interpolate=function(m){return arguments.length?(n=m,v()):n},c.unknown=function(m){return arguments.length?(a=m,c):a},function(m,g){return r=m,o=g,v()}}function br(){return wr()(me,me)}function Cr(e,t,n,r){var o=Wn(e,t,n),a;switch(r=Ne(r??",f"),r.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=dr(o,i))&&(r.precision=a),en(r,i)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=hr(o,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=mr(o))&&(r.precision=a-(r.type==="%")*2);break}}return $t(r)}function Dr(e){var t=e.domain;return e.ticks=function(n){var r=t();return In(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var o=t();return Cr(o[0],o[o.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),o=0,a=r.length-1,i=r[o],u=r[a],l,s,v=10;for(u<i&&(s=i,i=u,u=s,s=o,o=a,a=s);v-- >0;){if(s=tt(i,u,n),s===l)return r[o]=i,r[a]=u,t(r);if(s>0)i=Math.floor(i/s)*s,u=Math.ceil(u/s)*s;else if(s<0)i=Math.ceil(i*s)/s,u=Math.floor(u*s)/s;else break;l=s}return e},e}function tn(){var e=br();return e.copy=function(){return _r(e,tn())},gr.apply(e,arguments),Dr(e)}const Ze=new Date,Be=new Date;function ne(e,t,n,r){function o(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return o.floor=a=>(e(a=new Date(+a)),a),o.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),o.round=a=>{const i=o(a),u=o.ceil(a);return a-i<u-a?i:u},o.offset=(a,i)=>(t(a=new Date(+a),i==null?1:Math.floor(i)),a),o.range=(a,i,u)=>{const l=[];if(a=o.ceil(a),u=u==null?1:Math.floor(u),!(a<i)||!(u>0))return l;let s;do l.push(s=new Date(+a)),t(a,u),e(a);while(s<a&&a<i);return l},o.filter=a=>ne(i=>{if(i>=i)for(;e(i),!a(i);)i.setTime(i-1)},(i,u)=>{if(i>=i)if(u<0)for(;++u<=0;)for(;t(i,-1),!a(i););else for(;--u>=0;)for(;t(i,1),!a(i););}),n&&(o.count=(a,i)=>(Ze.setTime(+a),Be.setTime(+i),e(Ze),e(Be),Math.floor(n(Ze,Be))),o.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?o.filter(r?i=>r(i)%a===0:i=>o.count(0,i)%a===0):o)),o}const Ur=1e3,ut=Ur*60,Sr=ut*60,be=Sr*24,nn=be*7,lt=ne(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ut)/be,e=>e.getDate()-1);lt.range;const st=ne(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/be,e=>e.getUTCDate()-1);st.range;const kr=ne(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/be,e=>Math.floor(e/be));kr.range;function le(e){return ne(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ut)/nn)}const rn=le(0),je=le(1),Fr=le(2),Ar=le(3),ye=le(4),Nr=le(5),jr=le(6);rn.range;je.range;Fr.range;Ar.range;ye.range;Nr.range;jr.range;function se(e){return ne(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/nn)}const on=se(0),Le=se(1),Lr=se(2),xr=se(3),pe=se(4),Er=se(5),Yr=se(6);on.range;Le.range;Lr.range;xr.range;pe.range;Er.range;Yr.range;const ie=ne(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ie.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ne(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ie.range;const ue=ne(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ue.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ne(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ue.range;function Ve(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function qe(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ve(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Pr(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,a=e.days,i=e.shortDays,u=e.months,l=e.shortMonths,s=_e(o),v=we(o),c=_e(a),m=we(a),g=_e(i),d=we(i),w=_e(u),x=we(u),A=_e(l),M=we(l),j={a:$,A:B,b:R,B:ee,c:null,d:Lt,e:Lt,f:io,g:po,G:To,H:ro,I:oo,j:ao,L:an,m:uo,M:lo,p:Pe,q:ce,Q:Yt,s:Pt,S:so,u:co,U:fo,V:mo,w:ho,W:go,x:null,X:null,y:yo,Y:Mo,Z:vo,"%":Et},O={a:Me,A:Ie,b:T,B:re,c:null,d:xt,e:xt,f:Co,g:xo,G:Yo,H:_o,I:wo,j:bo,L:ln,m:Do,M:Uo,p:We,q:Ce,Q:Yt,s:Pt,S:So,u:ko,U:Fo,V:Ao,w:No,W:jo,x:null,X:null,y:Lo,Y:Eo,Z:Po,"%":Et},L={a:q,A:D,b:y,B:b,c:_,d:Nt,e:Nt,f:$r,g:At,G:Ft,H:jt,I:jt,j:Jr,L:Kr,m:Qr,M:Xr,p:V,q:qr,Q:to,s:no,S:Gr,u:zr,U:Rr,V:Zr,w:Hr,W:Br,x:S,X:z,y:At,Y:Ft,Z:Vr,"%":eo};j.x=C(n,j),j.X=C(r,j),j.c=C(t,j),O.x=C(n,O),O.X=C(r,O),O.c=C(t,O);function C(h,k){return function(N){var f=[],Q=-1,W=0,X=h.length,G,ae,ct;for(N instanceof Date||(N=new Date(+N));++Q<X;)h.charCodeAt(Q)===37&&(f.push(h.slice(W,Q)),(ae=kt[G=h.charAt(++Q)])!=null?G=h.charAt(++Q):ae=G==="e"?" ":"0",(ct=k[G])&&(G=ct(N,ae)),f.push(G),W=Q+1);return f.push(h.slice(W,Q)),f.join("")}}function Y(h,k){return function(N){var f=ve(1900,void 0,1),Q=F(f,h,N+="",0),W,X;if(Q!=N.length)return null;if("Q"in f)return new Date(f.Q);if("s"in f)return new Date(f.s*1e3+("L"in f?f.L:0));if(k&&!("Z"in f)&&(f.Z=0),"p"in f&&(f.H=f.H%12+f.p*12),f.m===void 0&&(f.m="q"in f?f.q:0),"V"in f){if(f.V<1||f.V>53)return null;"w"in f||(f.w=1),"Z"in f?(W=qe(ve(f.y,0,1)),X=W.getUTCDay(),W=X>4||X===0?Le.ceil(W):Le(W),W=st.offset(W,(f.V-1)*7),f.y=W.getUTCFullYear(),f.m=W.getUTCMonth(),f.d=W.getUTCDate()+(f.w+6)%7):(W=Ve(ve(f.y,0,1)),X=W.getDay(),W=X>4||X===0?je.ceil(W):je(W),W=lt.offset(W,(f.V-1)*7),f.y=W.getFullYear(),f.m=W.getMonth(),f.d=W.getDate()+(f.w+6)%7)}else("W"in f||"U"in f)&&("w"in f||(f.w="u"in f?f.u%7:"W"in f?1:0),X="Z"in f?qe(ve(f.y,0,1)).getUTCDay():Ve(ve(f.y,0,1)).getDay(),f.m=0,f.d="W"in f?(f.w+6)%7+f.W*7-(X+5)%7:f.w+f.U*7-(X+6)%7);return"Z"in f?(f.H+=f.Z/100|0,f.M+=f.Z%100,qe(f)):Ve(f)}}function F(h,k,N,f){for(var Q=0,W=k.length,X=N.length,G,ae;Q<W;){if(f>=X)return-1;if(G=k.charCodeAt(Q++),G===37){if(G=k.charAt(Q++),ae=L[G in kt?k.charAt(Q++):G],!ae||(f=ae(h,N,f))<0)return-1}else if(G!=N.charCodeAt(f++))return-1}return f}function V(h,k,N){var f=s.exec(k.slice(N));return f?(h.p=v.get(f[0].toLowerCase()),N+f[0].length):-1}function q(h,k,N){var f=g.exec(k.slice(N));return f?(h.w=d.get(f[0].toLowerCase()),N+f[0].length):-1}function D(h,k,N){var f=c.exec(k.slice(N));return f?(h.w=m.get(f[0].toLowerCase()),N+f[0].length):-1}function y(h,k,N){var f=A.exec(k.slice(N));return f?(h.m=M.get(f[0].toLowerCase()),N+f[0].length):-1}function b(h,k,N){var f=w.exec(k.slice(N));return f?(h.m=x.get(f[0].toLowerCase()),N+f[0].length):-1}function _(h,k,N){return F(h,t,k,N)}function S(h,k,N){return F(h,n,k,N)}function z(h,k,N){return F(h,r,k,N)}function $(h){return i[h.getDay()]}function B(h){return a[h.getDay()]}function R(h){return l[h.getMonth()]}function ee(h){return u[h.getMonth()]}function Pe(h){return o[+(h.getHours()>=12)]}function ce(h){return 1+~~(h.getMonth()/3)}function Me(h){return i[h.getUTCDay()]}function Ie(h){return a[h.getUTCDay()]}function T(h){return l[h.getUTCMonth()]}function re(h){return u[h.getUTCMonth()]}function We(h){return o[+(h.getUTCHours()>=12)]}function Ce(h){return 1+~~(h.getUTCMonth()/3)}return{format:function(h){var k=C(h+="",j);return k.toString=function(){return h},k},parse:function(h){var k=Y(h+="",!1);return k.toString=function(){return h},k},utcFormat:function(h){var k=C(h+="",O);return k.toString=function(){return h},k},utcParse:function(h){var k=Y(h+="",!0);return k.toString=function(){return h},k}}}var kt={"-":"",_:" ",0:"0"},Z=/^\s*\d+/,Ir=/^%/,Wr=/[\\^$*+?|[\]().{}]/g;function E(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",a=o.length;return r+(a<n?new Array(n-a+1).join(t)+o:o)}function Or(e){return e.replace(Wr,"\\$&")}function _e(e){return new RegExp("^(?:"+e.map(Or).join("|")+")","i")}function we(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Hr(e,t,n){var r=Z.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function zr(e,t,n){var r=Z.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Rr(e,t,n){var r=Z.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Zr(e,t,n){var r=Z.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Br(e,t,n){var r=Z.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Ft(e,t,n){var r=Z.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function At(e,t,n){var r=Z.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Vr(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function qr(e,t,n){var r=Z.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Qr(e,t,n){var r=Z.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Nt(e,t,n){var r=Z.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Jr(e,t,n){var r=Z.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function jt(e,t,n){var r=Z.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Xr(e,t,n){var r=Z.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Gr(e,t,n){var r=Z.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Kr(e,t,n){var r=Z.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function $r(e,t,n){var r=Z.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function eo(e,t,n){var r=Ir.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function to(e,t,n){var r=Z.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function no(e,t,n){var r=Z.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Lt(e,t){return E(e.getDate(),t,2)}function ro(e,t){return E(e.getHours(),t,2)}function oo(e,t){return E(e.getHours()%12||12,t,2)}function ao(e,t){return E(1+lt.count(ie(e),e),t,3)}function an(e,t){return E(e.getMilliseconds(),t,3)}function io(e,t){return an(e,t)+"000"}function uo(e,t){return E(e.getMonth()+1,t,2)}function lo(e,t){return E(e.getMinutes(),t,2)}function so(e,t){return E(e.getSeconds(),t,2)}function co(e){var t=e.getDay();return t===0?7:t}function fo(e,t){return E(rn.count(ie(e)-1,e),t,2)}function un(e){var t=e.getDay();return t>=4||t===0?ye(e):ye.ceil(e)}function mo(e,t){return e=un(e),E(ye.count(ie(e),e)+(ie(e).getDay()===4),t,2)}function ho(e){return e.getDay()}function go(e,t){return E(je.count(ie(e)-1,e),t,2)}function yo(e,t){return E(e.getFullYear()%100,t,2)}function po(e,t){return e=un(e),E(e.getFullYear()%100,t,2)}function Mo(e,t){return E(e.getFullYear()%1e4,t,4)}function To(e,t){var n=e.getDay();return e=n>=4||n===0?ye(e):ye.ceil(e),E(e.getFullYear()%1e4,t,4)}function vo(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+E(t/60|0,"0",2)+E(t%60,"0",2)}function xt(e,t){return E(e.getUTCDate(),t,2)}function _o(e,t){return E(e.getUTCHours(),t,2)}function wo(e,t){return E(e.getUTCHours()%12||12,t,2)}function bo(e,t){return E(1+st.count(ue(e),e),t,3)}function ln(e,t){return E(e.getUTCMilliseconds(),t,3)}function Co(e,t){return ln(e,t)+"000"}function Do(e,t){return E(e.getUTCMonth()+1,t,2)}function Uo(e,t){return E(e.getUTCMinutes(),t,2)}function So(e,t){return E(e.getUTCSeconds(),t,2)}function ko(e){var t=e.getUTCDay();return t===0?7:t}function Fo(e,t){return E(on.count(ue(e)-1,e),t,2)}function sn(e){var t=e.getUTCDay();return t>=4||t===0?pe(e):pe.ceil(e)}function Ao(e,t){return e=sn(e),E(pe.count(ue(e),e)+(ue(e).getUTCDay()===4),t,2)}function No(e){return e.getUTCDay()}function jo(e,t){return E(Le.count(ue(e)-1,e),t,2)}function Lo(e,t){return E(e.getUTCFullYear()%100,t,2)}function xo(e,t){return e=sn(e),E(e.getUTCFullYear()%100,t,2)}function Eo(e,t){return E(e.getUTCFullYear()%1e4,t,4)}function Yo(e,t){var n=e.getUTCDay();return e=n>=4||n===0?pe(e):pe.ceil(e),E(e.getUTCFullYear()%1e4,t,4)}function Po(){return"+0000"}function Et(){return"%"}function Yt(e){return+e}function Pt(e){return Math.floor(+e/1e3)}var fe,rt;Io({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Io(e){return fe=Pr(e),rt=fe.format,fe.parse,fe.utcFormat,fe.utcParse,fe}var Ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Oo="Expected a function",It=0/0,Ho="[object Symbol]",zo=/^\s+|\s+$/g,Ro=/^[-+]0x[0-9a-f]+$/i,Zo=/^0b[01]+$/i,Bo=/^0o[0-7]+$/i,Vo=parseInt,qo=typeof Ue=="object"&&Ue&&Ue.Object===Object&&Ue,Qo=typeof self=="object"&&self&&self.Object===Object&&self,Jo=qo||Qo||Function("return this")(),Xo=Object.prototype,Go=Xo.toString,Ko=Math.max,$o=Math.min,Qe=function(){return Jo.Date.now()};function ea(e,t,n){var r,o,a,i,u,l,s=0,v=!1,c=!1,m=!0;if(typeof e!="function")throw new TypeError(Oo);t=Wt(t)||0,ot(n)&&(v=!!n.leading,c="maxWait"in n,a=c?Ko(Wt(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m);function g(C){var Y=r,F=o;return r=o=void 0,s=C,i=e.apply(F,Y),i}function d(C){return s=C,u=setTimeout(A,t),v?g(C):i}function w(C){var Y=C-l,F=C-s,V=t-Y;return c?$o(V,a-F):V}function x(C){var Y=C-l,F=C-s;return l===void 0||Y>=t||Y<0||c&&F>=a}function A(){var C=Qe();if(x(C))return M(C);u=setTimeout(A,w(C))}function M(C){return u=void 0,m&&r?g(C):(r=o=void 0,i)}function j(){u!==void 0&&clearTimeout(u),s=0,r=l=o=u=void 0}function O(){return u===void 0?i:M(Qe())}function L(){var C=Qe(),Y=x(C);if(r=arguments,o=this,l=C,Y){if(u===void 0)return d(l);if(c)return u=setTimeout(A,t),g(l)}return u===void 0&&(u=setTimeout(A,t)),i}return L.cancel=j,L.flush=O,L}function ot(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function ta(e){return!!e&&typeof e=="object"}function na(e){return typeof e=="symbol"||ta(e)&&Go.call(e)==Ho}function Wt(e){if(typeof e=="number")return e;if(na(e))return It;if(ot(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ot(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(zo,"");var n=Zo.test(e);return n||Bo.test(e)?Vo(e.slice(2),n?2:8):Ro.test(e)?It:+e}var ra=ea;const oa=Wo(ra),aa=Un({width:0,height:0},e=>{const t=()=>e({width:window.innerWidth,height:window.innerHeight});return t(),window.addEventListener("resize",oa(t,250)),()=>{window.removeEventListener("resize",t)}});function Ot(e){let t;const n=e[14].default,r=mn(n,e,e[13],null);return{c(){r&&r.c()},l(o){r&&r.l(o)},m(o,a){r&&r.m(o,a),t=!0},p(o,a){r&&r.p&&(!t||a&8192)&&dn(r,n,o,o[13],t?gn(n,o[13],a,null):hn(o[13]),null)},i(o){t||(te(r,o),t=!0)},o(o){oe(r,o),t=!1},d(o){r&&r.d(o)}}}function ia(e){let t,n,r,o,a,i,u,l=e[3](e[0])+"",s,v,c,m=e[2]&&Ot(e);return{c(){t=P("link"),n=de(),r=P("div"),m&&m.c(),o=de(),a=P("div"),i=P("p"),u=new Tn(!1),this.h()},l(g){const d=Vt("svelte-yzuw6k",document.head);t=I(d,"LINK",{rel:!0,href:!0}),d.forEach(U),n=he(g),r=I(g,"DIV",{class:!0});var w=Se(r);m&&m.l(w),w.forEach(U),o=he(g),a=I(g,"DIV",{class:!0});var x=Se(a);i=I(x,"P",{class:!0});var A=Se(i);u=vn(A,!1),A.forEach(U),x.forEach(U),this.h()},h(){p(t,"rel","stylesheet"),p(t,"href","https://unpkg.com/mapbox-gl/dist/mapbox-gl.css"),p(r,"class","mapbox-container svelte-hxe2bp"),u.a=null,p(i,"class","mobile-pop-up-content svelte-hxe2bp"),p(a,"class","mobile-pop-up svelte-hxe2bp")},m(g,d){H(document.head,t),K(g,n,d),K(g,r,d),m&&m.m(r,null),e[15](r),K(g,o,d),K(g,a,d),H(a,i),u.m(l,i),s=!0,v||(c=qt(t,"load",e[4]),v=!0)},p(g,[d]){g[2]?m?(m.p(g,d),d&4&&te(m,1)):(m=Ot(g),m.c(),te(m,1),m.m(r,null)):m&&(Qt(),oe(m,1,1,()=>{m=null}),Jt()),(!s||d&1)&&l!==(l=g[3](g[0])+"")&&u.p(l)},i(g){s||(te(m),s=!0)},o(g){oe(m),s=!1},d(g){g&&(U(n),U(r),U(o),U(a)),U(t),m&&m.d(),e[15](null),v=!1,c()}}}let Ht=!0,zt=4;function ua(e,t,n){let r,o;cn(e,aa,y=>n(12,o=y));let{$$slots:a={},$$scope:i}=t,{data:u}=t,{least:l}=t,{timeframe:s}=t;mapboxgl.accessToken="pk.eyJ1IjoiZG9jazQyNDIiLCJhIjoiY2xrZ3llNmFkMDRpYjNkcDRuNDQ3MDBmayJ9.r7nPJo7xLNkUAYWp7QO9_g";let{lat:v}=t,{lon:c}=t,{zoom:m}=t;rt("%B %d, %Y");const g=rt("%B %d");let d=l;function w(y){let b=`The <b>${y.name.replace(" Area","")}, ${y.state_abbr} area</b> broke the `,_=`${s} record high <b>`,S=Math.floor(y.all_time_days/365),z=" years ";S==1&&(z=" year ");let $=y.all_time_days%365+" days";S==0&&(S=y.all_time_days,z=" days",$=""),s=="daily"&&(S=y.days_since_daily,z=" days",S==1&&(z="day"),$="");let B=" ago</b> with a temperature of ",R=new Date(y.all_time_date.slice(0,4),+y.all_time_date.slice(5,7)-1,y.all_time_date.slice(8,10));s=="daily"&&(R=new Date(y.days_since_daily_date.slice(0,4),+y.days_since_daily_date.slice(5,7)-1,y.days_since_daily_date.slice(8,10)));let ee=`${y.all_time_val}°F. That&rsquo;s the hottest temperature on record for the area.`;return s=="daily"&&(ee=`${y.days_since_val}°F. That&rsquo;s the hottest ${g(R)} on record for the area.`),b+_+S+z+$+B+ee}let x=!1;Bt(async()=>{n(11,x=!0)});let A,M,j=new Map(u.map(y=>[y.station,y]));const O=[[-22.275411,-13.090124],[20.68255,12.703398]],L=[[-30.275411,-20.090124],[27.68255,20.703398]];let C=[-.7964304999999996,-.19336299999999973],Y=u.map(function(y){return y.station}),F=null,V={top:50};function q(y){r<500&&(V=0);let b={type:"FeatureCollection",features:null};b.features=u.map(z=>({type:"Feature",properties:{station:z.station},id:Y.indexOf(z.station),geometry:{type:"Point",coordinates:[z.longitude,z.latitude]}})),M?(M.remove(),n(2,M=new mapboxgl.Map({container:A,style:"mapbox://styles/dock4242/cl0bhzae7000y14utgxgy71f1",maxBounds:L,center:C,zoom:zt,scrollZoom:Ht}))):n(2,M=new mapboxgl.Map({container:A,style:"mapbox://styles/dock4242/cl0bhzae7000y14utgxgy71f1",maxBounds:L,center:C,zoom:zt,scrollZoom:Ht}));let _=!1,S=null;M.on("load",function(){M.fitBounds(O,{padding:V}),Hn(".mapboxgl-ctrl-zoom-in").size();function z(T){return s=="all-time"?r<500?T<365?16:T<3650?14:11:T<365?20:T<365*10?16:12:r<500?T<30?16:T<60?14:11:T<30?20:T<60?16:14}let $=M.getStyle().sources;if(Object.keys($).indexOf("test-circles")==-1){M.addSource("test-circles",{type:"geojson",data:b});let T=1;s=="all-time"&&(T=.25),M.addLayer({id:"hover-effect",type:"circle",source:"test-circles",layout:{},paint:{"circle-stroke-color":"#000","circle-radius":20,"circle-stroke-width":2,"circle-color":"rgba(0,0,0,0)","circle-stroke-opacity":["case",["boolean",["feature-state","hover"],!1],T,0]}})}const B=["match",["get","station"]],R=["match",["get","station"]],ee=["match",["get","station"]];let Pe=tn().domain([1e4,100]).range(["#585656","#030202"]).clamp(!0);for(const T of u)if(s=="daily")B.push(T.station,T.days_since_daily),R.push(T.station,z(+T.days_since_daily)),ee.push(T.station,"#000000");else if(s=="all-time"){let re=Math.floor(T.all_time_days/365)+" yrs.";Math.floor(T.all_time_days/365)==1&&(re=Math.floor(T.all_time_days/365)+" yr."),Math.floor(T.all_time_days/365)==0&&(re=T.all_time_days+" days"),T.station==l.station&&(re=T.all_time_days),B.push(T.station,re),R.push(T.station,z(+T.all_time_days)),ee.push(T.station,Pe(+T.all_time_days))}B.push("red"),ee.push("red"),R.push(12);let ce=30,Me=u.filter(function(T){return s=="all-time"?+T.all_time_days<1e3&&T.station!=l.station:+T.days_since_daily<ce&&T.station!=l.station}).map(T=>T.station);Me.length==0&&(ce=100,Me=u.filter(function(T){return s=="all-time"?+T.all_time_days<1e3&&T.station!=l.station:+T.days_since_daily<ce&&T.station!=l.station}).map(T=>T.station));let Ie=u.filter(function(T){return s=="all-time"?+T.all_time_days>999&&T.station!=l.station:+T.days_since_daily>ce-1&&T.station!=l.station}).map(T=>T.station);M.setPaintProperty("acis-reproj-7ytdey-mid-layer","text-color",ee),M.setPaintProperty("acis-reproj-7ytdey","text-color",ee),M.setPaintProperty("state-boundaries copy","fill-color","#e8e8e8"),M.setLayoutProperty("acis-reproj-7ytdey-top-layer","text-field",B),M.setLayoutProperty("acis-reproj-7ytdey-top-layer-mobile","text-field",B),M.setLayoutProperty("acis-reproj-7ytdey-mid-layer","text-field",B),M.setLayoutProperty("acis-reproj-7ytdey","text-field",B),r<500?(M.setLayoutProperty("acis-reproj-7ytdey-top-layer","visibility","none"),M.setLayoutProperty("acis-reproj-7ytdey-top-layer-mobile","visibility","visible")):(M.setLayoutProperty("acis-reproj-7ytdey-top-layer","visibility","visible"),M.setLayoutProperty("acis-reproj-7ytdey-top-layer-mobile","visibility","none")),M.setLayoutProperty("acis-reproj-7ytdey-mid-layer","text-size",R),M.setLayoutProperty("acis-reproj-7ytdey","text-size",R),M.setFilter("acis-reproj-7ytdey-top-layer",["all",["match",["get","station"],[l.station],!0,!1]]),M.setFilter("acis-reproj-7ytdey-top-layer-mobile",["all",["match",["get","station"],[l.station],!0,!1]]),M.setFilter("acis-reproj-7ytdey-mid-layer",["all",["match",["get","station"],Me,!0,!1]]),M.setFilter("acis-reproj-7ytdey",["all",["match",["get","station"],Ie,!0,!1]]),_||(F=new mapboxgl.Popup({focusAfterOpen:!1,maxWidth:"340px"}),F.addClassName("last-record"),n(0,d=l),F.setLngLat([l.longitude,l.latitude]).setHTML(w(d)).addTo(M),_=!0),M.on("mousemove",T=>{const re=M.queryRenderedFeatures(T.point),We=["type","properties","id","layer","source","sourceLayer","state"],Ce=re.map(h=>{const k={};return We.forEach(N=>{k[N]=h[N]}),k}).filter(function(h){return h.layer.id.includes("acis")});if(Ce.length>0&&_){let h=Ce[0].properties;S!==Y.indexOf(h.station)&&(F.remove(),M.removeFeatureState({source:"test-circles",id:S}),S=Y.indexOf(h.station),S!=Y.indexOf(l.station)&&M.setFeatureState({source:"test-circles",id:S},{hover:!0}),n(0,d=j.get(h.station)),h.station==l.station?(F.addClassName("last-record"),F.removeClassName("not-last-record")):(F.removeClassName("last-record"),F.addClassName("not-last-record")),F.setLngLat([h.longitude,h.latitude]).setHTML(w(d)).addTo(M))}else M.setFeatureState({source:"test-circles",id:S},{hover:!1}),S=null,F.remove()})})}fn(()=>{M&&M.remove()});function D(y){yn[y?"unshift":"push"](()=>{A=y,n(1,A)})}return e.$$set=y=>{"data"in y&&n(5,u=y.data),"least"in y&&n(6,l=y.least),"timeframe"in y&&n(7,s=y.timeframe),"lat"in y&&n(8,v=y.lat),"lon"in y&&n(9,c=y.lon),"zoom"in y&&n(10,m=y.zoom),"$$scope"in y&&n(13,i=y.$$scope)},e.$$.update=()=>{e.$$.dirty&4096&&(r=o.width),e.$$.dirty&4096&&o.height,e.$$.dirty&2112&&x==!0&&q()},[d,A,M,w,q,u,l,s,v,c,m,x,o,i,a,D]}class la extends Ee{constructor(t){super(),Ye(this,t,ua,ia,xe,{data:5,least:6,timeframe:7,lat:8,lon:9,zoom:10})}}function Rt(e){let t,n,r;return n=new la({props:{lat:35,lon:-84,zoom:3.5,data:e[0],least:e[1],timeframe:fa}}),{c(){t=P("div"),Xe(n.$$.fragment),this.h()},l(o){t=I(o,"DIV",{class:!0,style:!0});var a=Se(t);Ge(n.$$.fragment,a),a.forEach(U),this.h()},h(){p(t,"class","map-wrapper svelte-1lmt2dr"),dt(t,"height",e[2]+"px")},m(o,a){K(o,t,a),Ke(n,t,null),r=!0},p(o,a){const i={};a&1&&(i.data=o[0]),a&2&&(i.least=o[1]),n.$set(i),(!r||a&4)&&dt(t,"height",o[2]+"px")},i(o){r||(te(n.$$.fragment,o),r=!0)},o(o){oe(n.$$.fragment,o),r=!1},d(o){o&&U(t),$e(n)}}}function sa(e){let t,n='<div class="white-fade"></div> <h1 class="svelte-1lmt2dr">Days Since a Record-high Temperature for a Particular Day</h1>',r,o,a='<div class="white-fade svelte-1lmt2dr"></div> <h3 class="svelte-1lmt2dr">A Project from <a target="_blank" href="/">The Pudding</a></h3>',i,u,l,s="",v,c,m;pn(e[3]);let g=e[0]&&Rt(e);return{c(){t=P("div"),t.innerHTML=n,r=de(),o=P("div"),o.innerHTML=a,i=de(),g&&g.c(),u=de(),l=P("div"),l.innerHTML=s,this.h()},l(d){t=I(d,"DIV",{class:!0,"data-svelte-h":!0}),Oe(t)!=="svelte-mpe2gf"&&(t.innerHTML=n),r=he(d),o=I(d,"DIV",{class:!0,"data-svelte-h":!0}),Oe(o)!=="svelte-1jno37f"&&(o.innerHTML=a),i=he(d),g&&g.l(d),u=he(d),l=I(d,"DIV",{class:!0,"data-svelte-h":!0}),Oe(l)!=="svelte-7tmfbo"&&(l.innerHTML=s),this.h()},h(){p(t,"class","top svelte-1lmt2dr"),p(o,"class","bottom svelte-1lmt2dr"),p(l,"class","toolbar svelte-1lmt2dr")},m(d,w){K(d,t,w),K(d,r,w),K(d,o,w),K(d,i,w),g&&g.m(d,w),K(d,u,w),K(d,l,w),v=!0,c||(m=qt(window,"resize",e[3]),c=!0)},p(d,[w]){d[0]?g?(g.p(d,w),w&1&&te(g,1)):(g=Rt(d),g.c(),te(g,1),g.m(u.parentNode,u)):g&&(Qt(),oe(g,1,1,()=>{g=null}),Jt())},i(d){v||(te(g),v=!0)},o(d){oe(g),v=!1},d(d){d&&(U(t),U(r),U(o),U(i),U(u),U(l)),g&&g.d(d),c=!1,m()}}}let ca="https://pudding.cool/2022/03/weather-map-data/acis.csv",fa="daily";function ma(e,t,n){let r=null,o,a,i;Bt(async()=>{rr(ca).then(function(l){a=On(l,s=>+s.days_since_daily),n(1,o=l[a]),n(0,r=l)})});function u(){n(2,i=window.innerHeight)}return[r,o,i,u]}class da extends Ee{constructor(t){super(),Ye(this,t,ma,sa,xe,{})}}const ha="Title TK",ga="Description tk.",Zt={title:ha,description:ga};function ya(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 5.11.1"),console.log("build: 2023-07-24-14:17"),console.log("--- --- --- --- --- ---")}function pa(e){let t,n,r,o;return t=new Fn({props:{title:e[1],description:e[2],url:e[3],preloadFont:e[0],keywords:e[4]}}),r=new da({}),{c(){Xe(t.$$.fragment),n=de(),Xe(r.$$.fragment)},l(a){Ge(t.$$.fragment,a),n=he(a),Ge(r.$$.fragment,a)},m(a,i){Ke(t,a,i),K(a,n,i),Ke(r,a,i),o=!0},p:Je,i(a){o||(te(t.$$.fragment,a),te(r.$$.fragment,a),o=!0)},o(a){oe(t.$$.fragment,a),oe(r.$$.fragment,a),o=!1},d(a){a&&U(n),$e(t,a),$e(r,a)}}}function Ma(e,t,n){let{data:r}=t;ya();const o=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/national/National2Web-Regular.woff2","https://pudding.cool/assets/fonts/national/National2Web-Bold.woff2"],{title:a,description:i,url:u,keywords:l}=Zt;return ft("copy",Zt),ft("data",r.data),e.$$set=s=>{"data"in s&&n(5,r=s.data)},[o,a,i,u,l,r]}class ba extends Ee{constructor(t){super(),Ye(this,t,Ma,pa,xe,{data:5})}}export{ba as component};
